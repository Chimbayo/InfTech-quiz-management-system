(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{4517:function(e,t,s){Promise.resolve().then(s.bind(s,586))},2252:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3327:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},1769:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},525:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},9663:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},586:function(e,t,s){"use strict";s.d(t,{UsersManagement:function(){return g}});var r=s(7437),a=s(2265),n=s(9820),l=s(9174),i=s(2381),c=s(9663),d=s(5805),o=s(2252);let x=(0,s(9763).Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var u=s(525),m=s(1047),f=s(1769),h=s(3327),y=s(1723);function g(e){let{user:t}=e,[s,g]=(0,a.useState)([]),[p,j]=(0,a.useState)(!0),[N,v]=(0,a.useState)("");(0,a.useEffect)(()=>{b()},[]);let b=async()=>{try{j(!0);let e=await fetch("/api/users");if(!e.ok)throw Error("Failed to fetch users");let t=await e.json();g(t)}catch(e){v(e instanceof Error?e.message:"An error occurred")}finally{j(!1)}},w=e=>{switch(e){case"ADMIN":return"default";case"STUDENT":return"secondary";default:return"outline"}},k=e=>{switch(e){case"ADMIN":return(0,r.jsx)(c.Z,{className:"h-4 w-4"});case"STUDENT":return(0,r.jsx)(d.Z,{className:"h-4 w-4"});default:return(0,r.jsx)(o.Z,{className:"h-4 w-4"})}},Z=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),A=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(p)return(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading users..."})]})});if(N)return(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(o.Z,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Users"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:N}),(0,r.jsx)(i.z,{onClick:b,variant:"outline",children:"Try Again"})]});let C=s.length,S=s.filter(e=>"ADMIN"===e.role).length,U=s.filter(e=>"STUDENT"===e.role).length,z=s.filter(e=>e.statistics.totalAttempts>0).length;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,r.jsxs)(n.Zb,{className:"card-professional",children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ll,{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(d.Z,{className:"h-5 w-5 text-blue-600"})})]}),(0,r.jsxs)(n.aY,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:C}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Registered users"})]})]}),(0,r.jsxs)(n.Zb,{className:"card-professional",children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ll,{className:"text-sm font-medium text-gray-600",children:"Admins"}),(0,r.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(c.Z,{className:"h-5 w-5 text-green-600"})})]}),(0,r.jsxs)(n.aY,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:S}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Administrators"})]})]}),(0,r.jsxs)(n.Zb,{className:"card-professional",children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ll,{className:"text-sm font-medium text-gray-600",children:"Students"}),(0,r.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(x,{className:"h-5 w-5 text-purple-600"})})]}),(0,r.jsxs)(n.aY,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:U}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Student accounts"})]})]}),(0,r.jsxs)(n.Zb,{className:"card-professional",children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ll,{className:"text-sm font-medium text-gray-600",children:"Active Users"}),(0,r.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(u.Z,{className:"h-5 w-5 text-orange-600"})})]}),(0,r.jsxs)(n.aY,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:z}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Users with quiz attempts"})]})]})]}),(0,r.jsxs)(n.Zb,{className:"card-professional",children:[(0,r.jsxs)(n.Ol,{children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5"}),"All Registered Users"]}),(0,r.jsx)(n.SZ,{children:"View and manage all users in the system"})]}),(0,r.jsx)(n.aY,{children:0===s.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(d.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Users Found"}),(0,r.jsx)("p",{className:"text-gray-600",children:"No users have been registered yet."})]}):(0,r.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,r.jsx)(n.Zb,{className:"border border-gray-200",children:(0,r.jsxs)(n.aY,{className:"p-6",children:[(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:k(e.role)})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),(0,r.jsxs)(l.C,{variant:w(e.role),className:"flex items-center gap-1",children:[k(e.role),e.role]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.email}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("span",{className:"text-gray-600",children:"Joined:"}),(0,r.jsx)("span",{className:"font-medium",children:Z(e.createdAt)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(f.Z,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("span",{className:"text-gray-600",children:"Attempts:"}),(0,r.jsx)("span",{className:"font-medium",children:e.statistics.totalAttempts})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("span",{className:"text-gray-600",children:"Avg Score:"}),(0,r.jsxs)("span",{className:"font-medium",children:[e.statistics.averageScore,"%"]})]}),e.statistics.lastActivity&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(y.Z,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("span",{className:"text-gray-600",children:"Last Active:"}),(0,r.jsx)("span",{className:"font-medium",children:A(e.statistics.lastActivity)})]})]})]})]})}),"STUDENT"===e.role&&e.statistics.totalAttempts>0&&(0,r.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-green-600",children:e.statistics.passedAttempts}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Passed"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-red-600",children:e.statistics.failedAttempts}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Failed"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[Math.round(e.statistics.passRate),"%"]}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Pass Rate"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-purple-600",children:e._count.createdQuizzes}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Quizzes Created"})]})]})})]})},e.id))})})]})]})}},9174:function(e,t,s){"use strict";s.d(t,{C:function(){return i}});var r=s(7437);s(2265);var a=s(535),n=s(3448);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:s}),t),...a})}},2381:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(7437),a=s(2265),n=s(7053),l=s(535),i=s(3448);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:d=!1,...o}=e,x=d?n.g7:"button";return(0,r.jsx)(x,{className:(0,i.cn)(c({variant:a,size:l,className:s})),ref:t,...o})});d.displayName="Button"},9820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var r=s(7437),a=s(2265),n=s(3448);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(1994),a=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[284,971,117,744],function(){return e(e.s=4517)}),_N_E=e.O()}]);