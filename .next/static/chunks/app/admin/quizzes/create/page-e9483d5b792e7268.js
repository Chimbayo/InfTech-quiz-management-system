(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[525],{4472:function(e,s,t){Promise.resolve().then(t.bind(t,4181))},1769:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});let i=(0,t(9763).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},3417:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});let i=(0,t(9763).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},4181:function(e,s,t){"use strict";t.d(s,{CreateQuizForm:function(){return z}});var i=t(7437),r=t(2265),a=t(9376),n=t(9501),l=t(3590),o=t(7119),c=t(2381),d=t(279),u=t(5060),m=t(9820),x=t(8245),p=t(5937),h=t(2660),f=t(9397),v=t(1769),j=t(3417),g=t(8930),N=t(5863),y=t(3229);let b=o.Ry({text:o.Z_().min(1,"Option text is required"),isCorrect:o.O7()}),w=o.Ry({text:o.Z_().min(1,"Question text is required"),type:o.Km(["MULTIPLE_CHOICE","TRUE_FALSE"]),options:o.IX(b).min(2,"At least 2 options are required")}).refine(e=>1===e.options.filter(e=>e.isCorrect).length,{message:"Exactly one option must be marked as correct",path:["options"]}),C=o.Ry({title:o.Z_().min(1,"Quiz title is required"),description:o.Z_().optional(),passingScore:o.Rx().min(0).max(100),timeLimit:o.Rx().min(1).optional(),isActive:o.O7().optional(),questions:o.IX(w).min(1,"At least 1 question is required"),enableChat:o.O7().optional(),chatRoomName:o.Z_().optional(),allowChatDuringQuiz:o.O7().optional(),enableStudyGroup:o.O7().optional()});function z(e){let{userId:s}=e,[t,o]=(0,r.useState)(!1),[b,w]=(0,r.useState)(""),z=(0,a.useRouter)(),{register:q,control:k,handleSubmit:_,watch:Z,setValue:S,formState:{errors:R}}=(0,n.cI)({resolver:(0,l.F)(C),defaultValues:{title:"",description:"",passingScore:60,timeLimit:void 0,isActive:!0,enableChat:!1,chatRoomName:"",allowChatDuringQuiz:!1,enableStudyGroup:!1,questions:[{text:"",type:"MULTIPLE_CHOICE",options:[{text:"",isCorrect:!0},{text:"",isCorrect:!1}]}]}}),{fields:E,append:A,remove:I}=(0,n.Dq)({control:k,name:"questions"}),O=Z("questions"),F=Z("enableChat"),Q=e=>{var s;let t=(null===(s=O[e])||void 0===s?void 0:s.options)||[];S("questions.".concat(e,".options"),[...t,{text:"",isCorrect:!1}])},L=(e,s)=>{var t;let i=(null===(t=O[e])||void 0===t?void 0:t.options)||[];i.length>2&&S("questions.".concat(e,".options"),i.filter((e,t)=>t!==s))},T=async e=>{o(!0),w("");try{let t=await fetch("/api/quizzes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,creatorId:s})}),i=await t.json();if(!t.ok)throw Error(i.error||"Failed to create quiz");z.push("/admin/dashboard")}catch(e){w(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}};return(0,i.jsxs)("div",{className:"min-h-screen",children:[(0,i.jsx)("header",{className:"header-professional sticky top-0 z-50",children:(0,i.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsx)("div",{className:"flex justify-between items-center h-16",children:(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsxs)(c.z,{variant:"ghost",onClick:()=>z.back(),className:"mr-4 hover:bg-gray-100",children:[(0,i.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-600 to-green-700 rounded-lg flex items-center justify-center",children:(0,i.jsx)(f.Z,{className:"h-5 w-5 text-white"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Create New Quiz"}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Design your assessment"})]})]})]})})})}),(0,i.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,i.jsxs)("form",{onSubmit:_(T),className:"space-y-8",children:[b&&(0,i.jsx)(p.bZ,{variant:"destructive",children:(0,i.jsx)(p.X,{children:b})}),(0,i.jsxs)(m.Zb,{className:"card-professional",children:[(0,i.jsxs)(m.Ol,{children:[(0,i.jsxs)(m.ll,{className:"flex items-center gap-3 text-xl",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,i.jsx)(v.Z,{className:"h-4 w-4 text-white"})}),"Quiz Information"]}),(0,i.jsx)(m.SZ,{className:"text-gray-600",children:"Provide basic information about your quiz"})]}),(0,i.jsxs)(m.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u._,{htmlFor:"title",children:"Quiz Title *"}),(0,i.jsx)(d.I,{id:"title",placeholder:"Enter quiz title",...q("title"),className:"input-professional"}),R.title&&(0,i.jsx)("p",{className:"text-sm text-destructive",children:R.title.message})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u._,{htmlFor:"description",children:"Description"}),(0,i.jsx)(d.I,{id:"description",placeholder:"Enter quiz description (optional)",...q("description"),className:"input-professional"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u._,{htmlFor:"passingScore",children:"Passing Score (%) *"}),(0,i.jsx)(d.I,{id:"passingScore",type:"number",min:"0",max:"100",...q("passingScore",{valueAsNumber:!0}),className:"input-professional"}),R.passingScore&&(0,i.jsx)("p",{className:"text-sm text-destructive",children:R.passingScore.message})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u._,{htmlFor:"timeLimit",children:"Time Limit (minutes)"}),(0,i.jsx)(d.I,{id:"timeLimit",type:"number",min:"1",placeholder:"No time limit",...q("timeLimit",{valueAsNumber:!0}),className:"input-professional"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u._,{htmlFor:"isActive",children:"Quiz Status"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(n.Qr,{name:"isActive",control:k,render:e=>{let{field:s}=e;return(0,i.jsx)(x.X,{id:"isActive",checked:s.value,onCheckedChange:s.onChange})}}),(0,i.jsx)(u._,{htmlFor:"isActive",className:"cursor-pointer",children:"Active (visible to students)"})]}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Check this box to make the quiz immediately available to students"})]})]})]})]}),(0,i.jsxs)(m.Zb,{className:"card-professional",children:[(0,i.jsxs)(m.Ol,{children:[(0,i.jsxs)(m.ll,{className:"flex items-center gap-3 text-xl",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:(0,i.jsx)(j.Z,{className:"h-4 w-4 text-white"})}),"Chat & Discussion Settings"]}),(0,i.jsx)(m.SZ,{className:"text-gray-600",children:"Configure chat rooms and discussion options for this quiz"})]}),(0,i.jsx)(m.aY,{className:"space-y-4",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(x.X,{id:"enableChat",...q("enableChat")}),(0,i.jsx)(u._,{htmlFor:"enableChat",className:"text-sm font-medium",children:"Enable chat room for this quiz"})]}),F&&(0,i.jsxs)("div",{className:"ml-6 space-y-4 border-l-2 border-gray-200 pl-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u._,{htmlFor:"chatRoomName",children:"Chat Room Name"}),(0,i.jsx)(d.I,{id:"chatRoomName",placeholder:"Enter custom chat room name (optional)",...q("chatRoomName"),className:"input-professional"}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"If left empty, will use quiz title as room name"})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(x.X,{id:"allowChatDuringQuiz",...q("allowChatDuringQuiz")}),(0,i.jsx)(u._,{htmlFor:"allowChatDuringQuiz",className:"text-sm",children:"Allow chat during quiz attempts"})]}),(0,i.jsx)("p",{className:"text-xs text-gray-500 ml-6",children:"⚠️ Warning: Enabling chat during quiz may compromise academic integrity"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(x.X,{id:"enableStudyGroup",...q("enableStudyGroup")}),(0,i.jsx)(u._,{htmlFor:"enableStudyGroup",className:"text-sm",children:"Create study group for collaborative learning"})]}),(0,i.jsx)("p",{className:"text-xs text-gray-500 ml-6",children:"Students can form study groups and discuss quiz topics"})]})]})]})})]}),(0,i.jsxs)(m.Zb,{className:"card-professional",children:[(0,i.jsx)(m.Ol,{children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)(m.ll,{className:"flex items-center gap-3 text-xl",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,i.jsx)(v.Z,{className:"h-4 w-4 text-white"})}),"Questions"]}),(0,i.jsx)(m.SZ,{className:"text-gray-600",children:"Add questions to your quiz"})]}),(0,i.jsxs)(c.z,{type:"button",onClick:()=>{A({text:"",type:"MULTIPLE_CHOICE",options:[{text:"",isCorrect:!0},{text:"",isCorrect:!1}]})},className:"btn-primary-professional",children:[(0,i.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Add Question"]})]})}),(0,i.jsxs)(m.aY,{className:"space-y-6",children:[E.map((e,s)=>{var t,r,a,n,l,o;return(0,i.jsxs)(m.Zb,{className:"card-professional border-l-4 border-l-blue-500",children:[(0,i.jsx)(m.Ol,{children:(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)(u._,{children:["Question ",s+1," *"]}),(0,i.jsx)(d.I,{placeholder:"Enter your question",...q("questions.".concat(s,".text")),className:"mt-1 input-professional"}),(null===(r=R.questions)||void 0===r?void 0:null===(t=r[s])||void 0===t?void 0:t.text)&&(0,i.jsx)("p",{className:"text-sm text-destructive mt-1",children:null===(n=R.questions[s])||void 0===n?void 0:null===(a=n.text)||void 0===a?void 0:a.message})]}),E.length>1&&(0,i.jsx)(c.z,{type:"button",variant:"outline",size:"sm",onClick:()=>I(s),className:"ml-4",children:(0,i.jsx)(g.Z,{className:"h-4 w-4"})})]})}),(0,i.jsxs)(m.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u._,{children:"Question Type"}),(0,i.jsxs)("div",{className:"flex space-x-4",children:[(0,i.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"radio",value:"MULTIPLE_CHOICE",...q("questions.".concat(s,".type"))}),(0,i.jsx)("span",{children:"Multiple Choice"})]}),(0,i.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"radio",value:"TRUE_FALSE",...q("questions.".concat(s,".type"))}),(0,i.jsx)("span",{children:"True/False"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(u._,{children:"Options"}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:'Select the "Correct Answer" radio button for the right answer'})]}),(0,i.jsxs)(c.z,{type:"button",variant:"outline",size:"sm",onClick:()=>Q(s),children:[(0,i.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Add Option"]})]}),null===(o=O[s])||void 0===o?void 0:null===(l=o.options)||void 0===l?void 0:l.map((e,t)=>{var r,a,n,l,o;return(0,i.jsxs)("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"radio",id:"correct-".concat(s,"-").concat(t),name:"correct-".concat(s),value:t,checked:(null===(n=O[s])||void 0===n?void 0:null===(a=n.options)||void 0===a?void 0:null===(r=a[t])||void 0===r?void 0:r.isCorrect)||!1,onChange:e=>{var i;((null===(i=O[s])||void 0===i?void 0:i.options)||[]).forEach((e,i)=>{S("questions.".concat(s,".options.").concat(i,".isCorrect"),i===t)})},className:"h-4 w-4 text-green-600 focus:ring-green-500"}),(0,i.jsx)(u._,{htmlFor:"correct-".concat(s,"-").concat(t),className:"text-sm font-medium text-green-600",children:"Correct Answer"})]}),(0,i.jsx)(d.I,{placeholder:"Option ".concat(t+1),...q("questions.".concat(s,".options.").concat(t,".text")),className:"flex-1 input-professional"}),(null===(o=O[s])||void 0===o?void 0:null===(l=o.options)||void 0===l?void 0:l.length)>2&&(0,i.jsx)(c.z,{type:"button",variant:"outline",size:"sm",onClick:()=>L(s,t),children:(0,i.jsx)(g.Z,{className:"h-4 w-4"})})]},t)})]})]})]},e.id)}),R.questions&&(0,i.jsx)("p",{className:"text-sm text-destructive",children:R.questions.message})]})]}),(0,i.jsxs)("div",{className:"flex justify-end space-x-4 pt-6",children:[(0,i.jsx)(c.z,{type:"button",variant:"outline",onClick:()=>z.back(),className:"btn-secondary-professional",children:"Cancel"}),(0,i.jsxs)(c.z,{type:"submit",disabled:t,className:"btn-primary-professional",children:[t&&(0,i.jsx)(N.Z,{className:"mr-2 h-4 w-4 animate-spin"}),(0,i.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),"Create Quiz"]})]})]})})]})}},5937:function(e,s,t){"use strict";t.d(s,{X:function(){return c},bZ:function(){return o}});var i=t(7437),r=t(2265),a=t(535),n=t(3448);let l=(0,a.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,...a}=e;return(0,i.jsx)("div",{ref:s,role:"alert",className:(0,n.cn)(l({variant:r}),t),...a})});o.displayName="Alert",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("h5",{ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",t),...r})}).displayName="AlertTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",t),...r})});c.displayName="AlertDescription"},2381:function(e,s,t){"use strict";t.d(s,{z:function(){return c}});var i=t(7437),r=t(2265),a=t(7053),n=t(535),l=t(3448);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,size:n,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,i.jsx)(u,{className:(0,l.cn)(o({variant:r,size:n,className:t})),ref:s,...d})});c.displayName="Button"},9820:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return n},aY:function(){return d},ll:function(){return o}});var i=t(7437),r=t(2265),a=t(3448);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});n.displayName="Card";let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("h3",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",t),...r})});d.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},8245:function(e,s,t){"use strict";t.d(s,{X:function(){return o}});var i=t(7437),r=t(2265),a=t(9270),n=t(401),l=t(3448);let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(a.fC,{ref:s,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:(0,i.jsx)(a.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,i.jsx)(n.Z,{className:"h-4 w-4"})})})});o.displayName=a.fC.displayName},279:function(e,s,t){"use strict";t.d(s,{I:function(){return n}});var i=t(7437),r=t(2265),a=t(3448);let n=r.forwardRef((e,s)=>{let{className:t,type:r,...n}=e;return(0,i.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n})});n.displayName="Input"},5060:function(e,s,t){"use strict";t.d(s,{_:function(){return c}});var i=t(7437),r=t(2265),a=t(6394),n=t(535),l=t(3448);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(a.f,{ref:s,className:(0,l.cn)(o(),t),...r})});c.displayName=a.f.displayName},3448:function(e,s,t){"use strict";t.d(s,{cn:function(){return a}});var i=t(1994),r=t(3335);function a(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,i.W)(s))}}},function(e){e.O(0,[284,244,713,971,117,744],function(){return e(e.s=4472)}),_N_E=e.O()}]);