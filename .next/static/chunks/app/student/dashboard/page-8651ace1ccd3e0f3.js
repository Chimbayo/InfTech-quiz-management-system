(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{6704:function(e,s,t){Promise.resolve().then(t.bind(t,6167))},1047:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},5302:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6595:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5131:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2489:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6167:function(e,s,t){"use strict";t.d(s,{EnhancedStudentDashboard:function(){return C}});var a=t(7437),l=t(2265),r=t(9376),i=t(2381),c=t(9820),n=t(9174),o=t(7168),d=t(1769),x=t(7692),m=t(6221),h=t(3417),u=t(5805),g=t(525),b=t(5302),p=t(1047),j=t(6595),N=t(9763);let f=(0,N.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var y=t(5131);let v=(0,N.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var w=t(4766),z=t(2489),Z=t(3795);function k(e){let{userId:s,userName:t,userRole:r}=e,[o,d]=(0,l.useState)([]),[x,m]=(0,l.useState)(!1),[h,u]=(0,l.useState)(0),{socket:g,isConnected:b}=(0,Z.s)();(0,l.useEffect)(()=>{if(g&&b)return g.on("new-announcement",e=>{let s={id:e.id,message:e.message,type:"announcement",timestamp:new Date(e.sentAt),read:!1};d(e=>[s,...e]),u(e=>e+1),"granted"===Notification.permission&&new Notification("New Announcement",{body:e.message,icon:"/favicon.ico"})}),g.on("quiz-broadcast",e=>{if("PUBLISHED"===e.type){let s={id:"quiz-".concat(e.quizId,"-").concat(Date.now()),message:e.message,type:"quiz",timestamp:new Date,read:!1};d(e=>[s,...e]),u(e=>e+1),"granted"===Notification.permission&&new Notification("New Quiz Available",{body:e.message,icon:"/favicon.ico"})}}),g.on("new-quiz-notification",e=>{let s={id:e.id,message:e.message,type:"quiz",timestamp:new Date(e.createdAt),read:!1};d(e=>[s,...e]),u(e=>e+1),"granted"===Notification.permission&&new Notification("New Quiz Available",{body:e.message,icon:"/favicon.ico"})}),()=>{g.off("new-announcement"),g.off("quiz-broadcast"),g.off("new-quiz-notification")}},[g,b]),(0,l.useEffect)(()=>{"default"===Notification.permission&&Notification.requestPermission(),p()},[]);let p=async()=>{try{let e=await fetch("/api/announcements?limit=20");if(e.ok){let s=(await e.json()).map(e=>({id:e.id,message:e.message,type:"announcement",timestamp:new Date(e.createdAt),read:!1}));d(s),u(s.length)}}catch(e){console.error("Failed to fetch notifications:",e)}},j=e=>{d(s=>s.map(s=>s.id===e?{...s,read:!0}:s)),u(e=>Math.max(0,e-1))},N=e=>{d(s=>s.filter(s=>s.id!==e)),u(s=>{let t=o.find(s=>s.id===e);return t&&!t.read?Math.max(0,s-1):s})};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>m(!x),className:"relative p-2 hover:bg-blue-50",children:[(0,a.jsx)(w.Z,{className:"h-5 w-5 text-blue-600"}),h>0&&(0,a.jsx)(n.C,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:h>9?"9+":h})]}),x&&(0,a.jsx)("div",{className:"absolute right-0 top-full mt-2 w-80 z-50",children:(0,a.jsxs)(c.Zb,{className:"shadow-lg border-blue-200",children:[(0,a.jsx)(c.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(c.ll,{className:"text-lg text-blue-800",children:"Notifications"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[h>0&&(0,a.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>{d(e=>e.map(e=>({...e,read:!0}))),u(0)},className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all read"}),(0,a.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>m(!1),className:"p-1",children:(0,a.jsx)(z.Z,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)(c.aY,{className:"p-0",children:(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===o.length?(0,a.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"}):o.map(e=>(0,a.jsx)("div",{className:"p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ".concat(e.read?"":"bg-blue-50 border-l-4 border-l-blue-500"),onClick:()=>j(e.id),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm ".concat(e.read?"text-gray-700":"font-semibold text-blue-900"),children:e.message}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp.toLocaleString()})]}),(0,a.jsx)(i.z,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),N(e.id)},className:"p-1 ml-2",children:(0,a.jsx)(z.Z,{className:"h-3 w-3"})})]})},e.id))})})]})})]})}function C(e){let{user:s,quizzes:t,attempts:N}=e,w=(0,r.useRouter)(),[z,C]=(0,l.useState)(!1),[q,S]=(0,l.useState)([]),[D,A]=(0,l.useState)([]),[R,Q]=(0,l.useState)([]),[Y,E]=(0,l.useState)("dashboard"),[O,M]=(0,l.useState)([]),[L,_]=(0,l.useState)(t),[P,G]=(0,l.useState)(0),[U,T]=(0,l.useState)(5),[I,H]=(0,l.useState)(0),[J,V]=(0,l.useState)([]),{socket:F,isConnected:X}=(0,Z.s)(),B=(0,l.useCallback)(async()=>{try{let e=await fetch("/api/quizzes?role=student");if(e.ok){let s=await e.json();_(s),M(s.slice(0,3))}}catch(e){console.error("Error fetching quizzes:",e)}},[]),W=(0,l.useCallback)(()=>{if(0===N.length)return 0;let e=N.filter(e=>e.completedAt).sort((e,s)=>new Date(s.completedAt).getTime()-new Date(e.completedAt).getTime()),s=0,t=new Date;for(let a of(t.setHours(0,0,0,0),e)){let e=new Date(a.completedAt);e.setHours(0,0,0,0);let l=Math.floor((t.getTime()-e.getTime())/864e5);if(l===s)s++;else if(l>s)break}return s},[N]),K=(0,l.useCallback)(()=>{let e=new Date;return e.setDate(e.getDate()-7),N.filter(s=>s.completedAt&&new Date(s.completedAt)>e).length},[N]),$=(0,l.useCallback)(async()=>{try{let e=await fetch("/api/chat/rooms");if(e.ok){let s=await e.json();S(s)}}catch(e){console.error("Error fetching chat rooms:",e)}},[]),ee=(0,l.useCallback)(async()=>{try{let e=await fetch("/api/study-groups");if(e.ok){let s=await e.json();A(s)}}catch(e){console.error("Error fetching study groups:",e)}},[]),es=(0,l.useCallback)(async()=>{try{let e=await fetch("/api/study-milestones");if(e.ok){let s=await e.json();Q(s)}}catch(e){console.error("Error fetching study milestones:",e)}},[]);(0,l.useEffect)(()=>{B(),$(),ee(),es(),G(W()),H(K())},[B,$,ee,es,W,K]),(0,l.useEffect)(()=>{if(!F||!X)return;let e=e=>{V(s=>[e,...s.slice(0,4)])},s=s=>{console.log("New quiz notification received:",s),e({type:"quiz-created",message:"New quiz available: ".concat(s.title),timestamp:new Date}),B()},t=s=>{console.log("Quiz update received:",s),e({type:"quiz-updated",message:"Quiz updated: ".concat(s.title),timestamp:new Date}),B()};return F.on("new-quiz-notification",s),F.on("quiz-broadcast",t),()=>{F.off("new-quiz-notification",s),F.off("quiz-broadcast",t)}},[F,X,B]),(0,l.useEffect)(()=>{M(L.slice(0,3))},[L]);let et=async()=>{C(!0);try{await fetch("/api/auth/logout",{method:"POST"}),w.push("/")}catch(e){console.error("Logout error:",e)}finally{C(!1)}},ea=e=>{w.push("/student/quiz/".concat(e))},el=e=>{w.push("/chat/".concat(e))},er=()=>q.filter(e=>"QUIZ_DISCUSSION"===e.type),ei=()=>q.filter(e=>"GENERAL"===e.type),ec=(e,s)=>e>=s?"text-green-600":"text-red-600",en=(e,s)=>e>=s?"default":"destructive";return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[(0,a.jsx)("header",{className:"bg-white/80 backdrop-blur-sm shadow-lg border-b border-blue-100",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-2 rounded-lg mr-3",children:(0,a.jsx)(d.Z,{className:"h-6 w-6 text-white"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent",children:"Student Dashboard"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(k,{userId:s.id,userName:s.name,userRole:s.role}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-blue-50 px-3 py-2 rounded-lg",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-700",children:["Welcome, ",s.name]})]}),(0,a.jsxs)(i.z,{onClick:et,variant:"outline",size:"sm",disabled:z,className:"flex items-center gap-2 border-blue-200 text-blue-700 hover:bg-blue-50 hover:border-blue-300",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"}),z?"Logging out...":"Logout"]})]})]})})}),(0,a.jsxs)("div",{className:"flex h-[calc(100vh-80px)]",children:[(0,a.jsxs)("div",{className:"w-64 bg-white/70 backdrop-blur-sm border-r border-blue-100 p-4 flex flex-col",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent mb-4",children:"Navigation"}),(0,a.jsxs)("nav",{className:"space-y-2 flex-1",children:[(0,a.jsxs)(i.z,{onClick:()=>E("dashboard"),variant:"dashboard"===Y?"default":"ghost",className:"w-full justify-start ".concat("dashboard"===Y?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"),children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),(0,a.jsxs)(i.z,{onClick:()=>E("quizzes"),variant:"quizzes"===Y?"default":"ghost",className:"w-full justify-start ".concat("quizzes"===Y?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"),children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Quizzes"]}),(0,a.jsxs)(i.z,{onClick:()=>E("study-chat"),variant:"study-chat"===Y?"default":"ghost",className:"w-full justify-start ".concat("study-chat"===Y?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"),children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Study Chat"]}),(0,a.jsxs)(i.z,{onClick:()=>E("study-groups"),variant:"study-groups"===Y?"default":"ghost",className:"w-full justify-start ".concat("study-groups"===Y?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"),children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Study Groups"]}),(0,a.jsxs)(i.z,{onClick:()=>E("progress"),variant:"progress"===Y?"default":"ghost",className:"w-full justify-start ".concat("progress"===Y?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"),children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Progress"]})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)(o.mQ,{value:Y,onValueChange:E,className:"space-y-6",children:[(0,a.jsxs)(o.nU,{value:"dashboard",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(c.Zb,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:[(0,a.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(c.ll,{className:"text-sm font-medium text-blue-800",children:"Available Quizzes"}),(0,a.jsx)(d.Z,{className:"h-5 w-5 text-blue-600"})]}),(0,a.jsxs)(c.aY,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-900",children:L.length}),(0,a.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Ready to take"})]})]}),(0,a.jsxs)(c.Zb,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:[(0,a.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(c.ll,{className:"text-sm font-medium text-green-800",children:"Completed"}),(0,a.jsx)(b.Z,{className:"h-5 w-5 text-green-600"})]}),(0,a.jsxs)(c.aY,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-900",children:N.length}),(0,a.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"Quiz attempts"})]})]}),(0,a.jsxs)(c.Zb,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:[(0,a.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(c.ll,{className:"text-sm font-medium text-purple-800",children:"Average Score"}),(0,a.jsx)(g.Z,{className:"h-5 w-5 text-purple-600"})]}),(0,a.jsxs)(c.aY,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-purple-900",children:[N.length>0?Math.round(N.reduce((e,s)=>e+s.score,0)/N.length):0,"%"]}),(0,a.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:"Performance"})]})]}),(0,a.jsxs)(c.Zb,{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200",children:[(0,a.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(c.ll,{className:"text-sm font-medium text-orange-800",children:"Study Groups"}),(0,a.jsx)(u.Z,{className:"h-5 w-5 text-orange-600"})]}),(0,a.jsxs)(c.aY,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-orange-900",children:D.length}),(0,a.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:"Active groups"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{children:(0,a.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5 text-blue-600"}),"Upcoming Quizzes"]})}),(0,a.jsx)(c.aY,{className:"space-y-3",children:0===O.length?(0,a.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No upcoming quizzes"}):O.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e._count.questions," questions"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.enableChat&&e.chatRooms&&e.chatRooms.length>0&&(0,a.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>el(e.chatRooms[0].id),children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})}),(0,a.jsx)(i.z,{size:"sm",onClick:()=>ea(e.id),className:"bg-blue-600 hover:bg-blue-700",children:"Start"})]})]},e.id))})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{children:(0,a.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"h-5 w-5 text-yellow-600"}),"Recent Achievements"]})}),(0,a.jsx)(c.aY,{className:"space-y-3",children:R.map(e=>{var s;return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("completion"===e.type?"bg-green-100":"social"===e.type?"bg-blue-100":"bg-yellow-100"),children:"completion"===e.type?(0,a.jsx)(b.Z,{className:"h-4 w-4 text-green-600"}):"social"===e.type?(0,a.jsx)(u.Z,{className:"h-4 w-4 text-blue-600"}):(0,a.jsx)(j.Z,{className:"h-4 w-4 text-yellow-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:null===(s=e.date)||void 0===s?void 0:s.toLocaleDateString()})]})]},e.id)})})]})]})]}),(0,a.jsxs)(o.nU,{value:"quizzes",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Available Quizzes"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Choose a quiz to test your knowledge and join study discussions"})]}),0===L.length?(0,a.jsx)(c.Zb,{children:(0,a.jsxs)(c.aY,{className:"text-center py-16",children:[(0,a.jsx)(d.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No quizzes available"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Check back later for new quizzes from your instructors"})]})}):(0,a.jsx)("div",{className:"grid gap-6",children:L.map(e=>(0,a.jsxs)(c.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,a.jsx)(c.Ol,{children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(c.ll,{className:"flex items-center gap-3 text-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"h-4 w-4 text-white"})}),e.title,e.enableChat&&(0,a.jsxs)(n.C,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:[(0,a.jsx)(h.Z,{className:"h-3 w-3 mr-1"}),"Chat Available"]})]}),(0,a.jsx)(c.SZ,{className:"mt-2",children:e.description||"Test your knowledge with this quiz"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Created by ",e.creator.name]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[e.enableChat&&e.chatRooms&&e.chatRooms.length>0&&(0,a.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>el(e.chatRooms[0].id),className:"border-green-200 text-green-700 hover:bg-green-50",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Study Chat"]}),(0,a.jsxs)(i.z,{onClick:()=>ea(e.id),disabled:!e.isActive,className:"bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(f,{className:"h-4 w-4 mr-2"}),"Start Quiz"]})]})]})}),(0,a.jsx)(c.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e._count.questions}),(0,a.jsx)("div",{className:"text-sm text-blue-700",children:"Questions"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[e.passingScore,"%"]}),(0,a.jsx)("div",{className:"text-sm text-purple-700",children:"Pass Score"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:e.timeLimit?"".concat(e.timeLimit):"∞"}),(0,a.jsx)("div",{className:"text-sm text-orange-700",children:e.timeLimit?"Minutes":"No Limit"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e._count.attempts}),(0,a.jsx)("div",{className:"text-sm text-green-700",children:"Attempts"})]})]})})]},e.id))})]}),(0,a.jsxs)(o.nU,{value:"study-chat",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Study Chat Rooms"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Join quiz discussions and general study rooms"})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-5 w-5 text-blue-600"}),"Quiz Discussion Rooms"]}),er().length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:er().map(e=>(0,a.jsxs)(c.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-l-blue-500",onClick:()=>el(e.id),children:[(0,a.jsxs)(c.Ol,{className:"pb-3",children:[(0,a.jsxs)(c.ll,{className:"flex items-center gap-2 text-base",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-blue-600"}),e.name]}),(0,a.jsx)(c.SZ,{className:"text-sm",children:e.quiz?"Quiz: ".concat(e.quiz.title):"Quiz Discussion"})]}),(0,a.jsxs)(c.aY,{className:"pt-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.C,{className:"bg-blue-100 text-blue-800",children:"Quiz Discussion"}),(0,a.jsx)(i.z,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Join Chat"})]}),e._count&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[e._count.messages," messages"]})]})]},e.id))}):(0,a.jsx)(c.Zb,{className:"border-dashed border-2 border-gray-200",children:(0,a.jsxs)(c.aY,{className:"text-center py-8",children:[(0,a.jsx)(d.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Quiz Chat Rooms"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Quiz chat rooms will appear here when instructors create quizzes with chat enabled"})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5 text-green-600"}),"General Study Rooms"]}),ei().length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ei().map(e=>(0,a.jsxs)(c.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-l-green-500",onClick:()=>el(e.id),children:[(0,a.jsxs)(c.Ol,{className:"pb-3",children:[(0,a.jsxs)(c.ll,{className:"flex items-center gap-2 text-base",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-green-600"}),e.name]}),(0,a.jsx)(c.SZ,{className:"text-sm",children:"General study discussion"})]}),(0,a.jsxs)(c.aY,{className:"pt-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:"General Study"}),(0,a.jsx)(i.z,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Join Chat"})]}),e._count&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[e._count.messages," messages"]})]})]},e.id))}):(0,a.jsx)(c.Zb,{className:"border-dashed border-2 border-gray-200",children:(0,a.jsxs)(c.aY,{className:"text-center py-8",children:[(0,a.jsx)(u.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No General Chat Rooms"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"General study rooms will appear here when created by instructors"})]})})]}),0===er().length&&0===ei().length&&(0,a.jsx)(c.Zb,{className:"mt-8",children:(0,a.jsxs)(c.aY,{className:"text-center py-16",children:[(0,a.jsx)(h.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No chat rooms available"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Chat rooms will appear here when quizzes with chat are created"})]})})]}),(0,a.jsxs)(o.nU,{value:"study-groups",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-700 to-indigo-700 bg-clip-text text-transparent",children:"My Study Groups"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Collaborate with peers in your assigned study groups and participate in discussions"})]}),(0,a.jsx)("div",{className:"grid gap-6",children:D.map(e=>(0,a.jsxs)(c.Zb,{className:"border-l-4 border-l-purple-500 hover:shadow-lg transition-all duration-300",children:[(0,a.jsx)(c.Ol,{className:"bg-gradient-to-r from-purple-50 to-indigo-50",children:(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(c.ll,{className:"flex items-center gap-3 text-lg",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(u.Z,{className:"h-5 w-5 text-white"})}),e.name,(0,a.jsx)(n.C,{className:"bg-purple-100 text-purple-800",children:"Member"})]}),(0,a.jsx)(c.SZ,{className:"mt-2 text-gray-700",children:e.description||"Collaborative learning group for enhanced study experience"})]})})}),(0,a.jsxs)(c.aY,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:e.members.length}),(0,a.jsx)("div",{className:"text-sm text-purple-700",children:"Members"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.chatRooms&&e.chatRooms.length>0?"✓":"✗"}),(0,a.jsx)("div",{className:"text-sm text-blue-700",children:"Chat Room"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"Active"}),(0,a.jsx)("div",{className:"text-sm text-green-700",children:"Status"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex -space-x-2",children:[e.members.slice(0,4).map((e,s)=>(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full flex items-center justify-center text-white text-xs font-medium border-2 border-white",title:e.user.name,children:e.user.name.charAt(0).toUpperCase()},s)),e.members.length>4&&(0,a.jsxs)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 text-xs font-medium border-2 border-white",children:["+",e.members.length-4]})]}),e.chatRooms&&e.chatRooms.length>0&&(0,a.jsxs)(n.C,{className:"bg-green-100 text-green-800",children:[(0,a.jsx)(h.Z,{className:"h-3 w-3 mr-1"}),"Discussion Active"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[e.chatRooms&&e.chatRooms.length>0&&(0,a.jsxs)(i.z,{size:"sm",onClick:()=>el(e.chatRooms[0].id),className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Join Discussion"]}),(0,a.jsxs)(i.z,{variant:"outline",size:"sm",className:"border-purple-200 text-purple-700 hover:bg-purple-50",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"View Members"]})]})]})]})]},e.id))}),0===D.length&&(0,a.jsx)(c.Zb,{className:"border-2 border-dashed border-gray-200",children:(0,a.jsxs)(c.aY,{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(u.Z,{className:"h-10 w-10 text-purple-500"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Study Groups Assigned"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"You haven't been added to any study groups yet. Study groups will appear here when your instructor assigns you to one."}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"Tip:"})," Study groups help you collaborate with classmates, share knowledge, and participate in group discussions about quiz topics."]})})]})})]}),(0,a.jsxs)(o.nU,{value:"progress",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Progress"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Track your learning journey and achievements"})]}),N.length>0&&(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{children:(0,a.jsx)(c.ll,{children:"Quiz History"})}),(0,a.jsx)(c.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:N.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:e.passed?(0,a.jsx)(b.Z,{className:"h-8 w-8 text-green-600"}):(0,a.jsx)(y.Z,{className:"h-8 w-8 text-red-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.quiz.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.completedAt||e.startedAt).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-xl font-bold ".concat(ec(e.score,e.quiz.passingScore)),children:[e.score,"%"]}),(0,a.jsx)(n.C,{variant:en(e.score,e.quiz.passingScore),children:e.passed?"Passed":"Failed"})]}),(0,a.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>w.push("/student/quiz/".concat(e.quizId,"/results")),children:"View Details"})]})]},e.id))})})]}),0===N.length&&(0,a.jsx)(c.Zb,{children:(0,a.jsxs)(c.aY,{className:"text-center py-16",children:[(0,a.jsx)(v,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No quiz attempts yet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Start taking quizzes to track your progress"}),(0,a.jsxs)(i.z,{onClick:()=>E("quizzes"),className:"bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(f,{className:"h-4 w-4 mr-2"}),"Take Your First Quiz"]})]})})]})]})})})]})]})}}},function(e){e.O(0,[284,265,565,790,971,117,744],function(){return e(e.s=6704)}),_N_E=e.O()}]);