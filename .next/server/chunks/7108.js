exports.id=7108,exports.ids=[7108],exports.modules={9856:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},9030:()=>{},6343:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},95920:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},24061:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},94019:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},35047:(e,s,t)=>{"use strict";var r=t(77389);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},25023:(e,s,t)=>{"use strict";t.d(s,{N:()=>x});var r=t(10326),a=t(17577),n=t(40617),i=t(45091),d=t(62783),l=t(24061),o=t(69436),c=t(91664),u=t(41190),m=t(38443);function x({roomId:e,userId:s}){let[t,x]=(0,a.useState)([]),[h,f]=(0,a.useState)(""),[g,b]=(0,a.useState)(!0),[v,y]=(0,a.useState)(!1),[p,j]=(0,a.useState)(null),N=(0,a.useRef)(null),w=async()=>{if(e)try{let s=await fetch(`/api/chat/rooms/${e}/messages`);if(s.ok){let e=await s.json();x(Array.isArray(e)?e:e.messages||[]),b(!0)}else b(!1)}catch(e){console.error("Error fetching messages:",e),b(!1)}},k=async()=>{if(h.trim()&&e&&!v){y(!0);try{(await fetch(`/api/chat/rooms/${e}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:h.trim()})})).ok?(f(""),await w()):console.error("Failed to send message")}catch(e){console.error("Error sending message:",e)}finally{y(!1)}}};return e?(0,r.jsxs)("div",{className:"flex flex-col h-full bg-white rounded-lg border",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(n.Z,{className:"h-5 w-5 text-blue-600"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:p?.name||"Loading..."}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[g?(0,r.jsxs)("div",{className:"flex items-center text-green-600",children:[r.jsx(i.Z,{className:"h-3 w-3 mr-1"}),r.jsx("span",{className:"text-xs",children:"Connected"})]}):(0,r.jsxs)("div",{className:"flex items-center text-red-600",children:[r.jsx(d.Z,{className:"h-3 w-3 mr-1"}),r.jsx("span",{className:"text-xs",children:"Disconnected"})]}),p&&r.jsx(m.C,{variant:"secondary",className:"text-xs",children:"QUIZ_DISCUSSION"===p.type?"Quiz Chat":"General"})]})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)(m.C,{variant:"outline",className:"text-xs",children:[r.jsx(l.Z,{className:"h-3 w-3 mr-1"}),p?._count?.messages||0," messages"]})})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===t.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(n.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})]}):t.map(e=>r.jsx("div",{className:`flex ${e.user.id===s?"justify-end":"justify-start"}`,children:(0,r.jsxs)("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${e.user.id===s?"bg-blue-600 text-white":e.isSystemMessage?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-900"}`,children:[e.user.id!==s&&!e.isSystemMessage&&(0,r.jsxs)("div",{className:"text-xs font-medium mb-1 text-gray-600",children:[e.user.name,"ADMIN"===e.user.role&&r.jsx(m.C,{variant:"secondary",className:"ml-1 text-xs",children:"Admin"}),"TEACHER"===e.user.role&&r.jsx(m.C,{variant:"secondary",className:"ml-1 text-xs",children:"Teacher"})]}),r.jsx("div",{className:"break-words",children:e.message}),r.jsx("div",{className:`text-xs mt-1 ${e.user.id===s?"text-blue-100":"text-gray-500"}`,children:new Date(e.createdAt).toLocaleTimeString()})]})},e.id)),r.jsx("div",{ref:N})]}),(0,r.jsxs)("div",{className:"p-4 border-t bg-gray-50 rounded-b-lg",children:[(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx(u.I,{value:h,onChange:e=>f(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),k())},placeholder:"Type your message...",disabled:v||!g,className:"flex-1"}),r.jsx(c.z,{onClick:k,disabled:!h.trim()||v||!g,className:"bg-blue-600 hover:bg-blue-700",children:v?r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsx(o.Z,{className:"h-4 w-4"})})]}),!g&&r.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Connection lost. Trying to reconnect..."})]})]}):r.jsx("div",{className:"flex items-center justify-center h-full bg-white rounded-lg border",children:(0,r.jsxs)("div",{className:"text-center p-8",children:[r.jsx(n.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Chat Room"}),r.jsx("p",{className:"text-gray-600",children:"Choose a room from the sidebar to start chatting"})]})})}},38443:(e,s,t)=>{"use strict";t.d(s,{C:()=>d});var r=t(10326);t(17577);var a=t(79360),n=t(51223);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,...t}){return r.jsx("div",{className:(0,n.cn)(i({variant:s}),e),...t})}},91664:(e,s,t)=>{"use strict";t.d(s,{z:()=>o});var r=t(10326),a=t(17577),n=t(34214),i=t(79360),d=t(51223);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef(({className:e,variant:s,size:t,asChild:a=!1,...i},o)=>{let c=a?n.g7:"button";return r.jsx(c,{className:(0,d.cn)(l({variant:s,size:t,className:e})),ref:o,...i})});o.displayName="Button"},41190:(e,s,t)=>{"use strict";t.d(s,{I:()=>i});var r=t(10326),a=t(17577),n=t(51223);let i=a.forwardRef(({className:e,type:s,...t},a)=>r.jsx("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));i.displayName="Input"},51223:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(41135),a=t(31009);function n(...e){return(0,a.m6)((0,r.W)(e))}},32029:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d,metadata:()=>i});var r=t(19510),a=t(25384),n=t.n(a);t(5023);let i={title:"Quiz Management System",description:"A comprehensive quiz management system for admins and students"};function d({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:`${n().className} bg-professional-gradient`,children:r.jsx("div",{className:"min-h-screen",children:e})})})}},5023:()=>{}};