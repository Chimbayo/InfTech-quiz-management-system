(()=>{var e={};e.id=6604,e.ids=[6604],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},96692:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(89214),r(32029),r(35866);var n=r(23191),s=r(88716),a=r(37922),o=r.n(a),i=r(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["chat",{children:["[roomId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,89214)),"C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\chat\\[roomId]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\chat\\[roomId]\\page.tsx"],u="/chat/[roomId]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/chat/[roomId]/page",pathname:"/chat/[roomId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9856:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},9030:()=>{},60794:(e,t,r)=>{Promise.resolve().then(r.bind(r,85652))},53982:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n=(0,r(76557).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},70003:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n=(0,r(76557).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},98091:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n=(0,r(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},85652:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>tx});var n=r(10326),s=r(17577),a=r(35047),o=r(91664),i=r(74131),l=r(40617),d=r(86333),c=r(24061),u=r(45091),m=r(62783),p=r(76557);let x=(0,p.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),f=(0,p.Z)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),h=(0,p.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),g=(0,p.Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);var y=r(70003),v=r(98091),j=r(69436),b=r(41190),w=r(38443),N=r(26784),C=r(3236),k=r(82561),M=r(48051),D=r(93095),R=r(52067),P=r(45226),_=r(70545),I=r(17124),S=r(825),E=r(80699),T=r(10441),z=r(88957),O=r(17103),q=r(83078),A=r(9815),L=r(15594),Z=r(34214),F=r(55049),K=r(35664),V=r(58260),U=["Enter"," "],G=["ArrowUp","PageDown","End"],B=["ArrowDown","PageUp","Home",...G],W={ltr:[...U,"ArrowRight"],rtl:[...U,"ArrowLeft"]},$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},H="Menu",[X,Y,J]=(0,_.B)(H),[Q,ee]=(0,D.b)(H,[J,O.D7,L.Pc]),et=(0,O.D7)(),er=(0,L.Pc)(),[en,es]=Q(H),[ea,eo]=Q(H),ei=e=>{let{__scopeMenu:t,open:r=!1,children:a,dir:o,onOpenChange:i,modal:l=!0}=e,d=et(t),[c,u]=s.useState(null),m=s.useRef(!1),p=(0,F.W)(i),x=(0,I.gm)(o);return s.useEffect(()=>{let e=()=>{m.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>m.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,n.jsx)(O.fC,{...d,children:(0,n.jsx)(en,{scope:t,open:r,onOpenChange:p,content:c,onContentChange:u,children:(0,n.jsx)(ea,{scope:t,onClose:s.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:x,modal:l,children:a})})})};ei.displayName=H;var el=s.forwardRef((e,t)=>{let{__scopeMenu:r,...s}=e,a=et(r);return(0,n.jsx)(O.ee,{...a,...s,ref:t})});el.displayName="MenuAnchor";var ed="MenuPortal",[ec,eu]=Q(ed,{forceMount:void 0}),em=e=>{let{__scopeMenu:t,forceMount:r,children:s,container:a}=e,o=es(ed,t);return(0,n.jsx)(ec,{scope:t,forceMount:r,children:(0,n.jsx)(A.z,{present:r||o.open,children:(0,n.jsx)(q.h,{asChild:!0,container:a,children:s})})})};em.displayName=ed;var ep="MenuContent",[ex,ef]=Q(ep),eh=s.forwardRef((e,t)=>{let r=eu(ep,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,o=es(ep,e.__scopeMenu),i=eo(ep,e.__scopeMenu);return(0,n.jsx)(X.Provider,{scope:e.__scopeMenu,children:(0,n.jsx)(A.z,{present:s||o.open,children:(0,n.jsx)(X.Slot,{scope:e.__scopeMenu,children:i.modal?(0,n.jsx)(eg,{...a,ref:t}):(0,n.jsx)(ey,{...a,ref:t})})})})}),eg=s.forwardRef((e,t)=>{let r=es(ep,e.__scopeMenu),a=s.useRef(null),o=(0,M.e)(t,a);return s.useEffect(()=>{let e=a.current;if(e)return(0,K.Ry)(e)},[]),(0,n.jsx)(ej,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:(0,k.Mj)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ey=s.forwardRef((e,t)=>{let r=es(ep,e.__scopeMenu);return(0,n.jsx)(ej,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ev=(0,Z.Z8)("MenuContent.ScrollLock"),ej=s.forwardRef((e,t)=>{let{__scopeMenu:r,loop:a=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:x,onDismiss:f,disableOutsideScroll:h,...g}=e,y=es(ep,r),v=eo(ep,r),j=et(r),b=er(r),w=Y(r),[N,C]=s.useState(null),D=s.useRef(null),R=(0,M.e)(t,D,y.onContentChange),P=s.useRef(0),_=s.useRef(""),I=s.useRef(0),z=s.useRef(null),q=s.useRef("right"),A=s.useRef(0),Z=h?V.Z:s.Fragment,F=e=>{let t=_.current+e,r=w().filter(e=>!e.disabled),n=document.activeElement,s=r.find(e=>e.ref.current===n)?.textValue,a=function(e,t,r){var n;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=(n=Math.max(r?e.indexOf(r):-1,0),e.map((t,r)=>e[(n+r)%e.length]));1===s.length&&(a=a.filter(e=>e!==r));let o=a.find(e=>e.toLowerCase().startsWith(s.toLowerCase()));return o!==r?o:void 0}(r.map(e=>e.textValue),t,s),o=r.find(e=>e.textValue===a)?.ref.current;(function e(t){_.current=t,window.clearTimeout(P.current),""!==t&&(P.current=window.setTimeout(()=>e(""),1e3))})(t),o&&setTimeout(()=>o.focus())};s.useEffect(()=>()=>window.clearTimeout(P.current),[]),(0,E.EW)();let K=s.useCallback(e=>q.current===z.current?.side&&function(e,t){return!!t&&function(e,t){let{x:r,y:n}=e,s=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e],i=t[a],l=o.x,d=o.y,c=i.x,u=i.y;d>n!=u>n&&r<(c-l)*(n-d)/(u-d)+l&&(s=!s)}return s}({x:e.clientX,y:e.clientY},t)}(e,z.current?.area),[]);return(0,n.jsx)(ex,{scope:r,searchRef:_,onItemEnter:s.useCallback(e=>{K(e)&&e.preventDefault()},[K]),onItemLeave:s.useCallback(e=>{K(e)||(D.current?.focus(),C(null))},[K]),onTriggerLeave:s.useCallback(e=>{K(e)&&e.preventDefault()},[K]),pointerGraceTimerRef:I,onPointerGraceIntentChange:s.useCallback(e=>{z.current=e},[]),children:(0,n.jsx)(Z,{...h?{as:ev,allowPinchZoom:!0}:void 0,children:(0,n.jsx)(T.M,{asChild:!0,trapped:o,onMountAutoFocus:(0,k.Mj)(i,e=>{e.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:(0,n.jsx)(S.XB,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:x,onDismiss:f,children:(0,n.jsx)(L.fC,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:a,currentTabStopId:N,onCurrentTabStopIdChange:C,onEntryFocus:(0,k.Mj)(c,e=>{v.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,n.jsx)(O.VY,{role:"menu","aria-orientation":"vertical","data-state":eB(y.open),"data-radix-menu-content":"",dir:v.dir,...j,...g,ref:R,style:{outline:"none",...g.style},onKeyDown:(0,k.Mj)(g.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&n&&F(e.key));let s=D.current;if(e.target!==s||!B.includes(e.key))return;e.preventDefault();let a=w().filter(e=>!e.disabled).map(e=>e.ref.current);G.includes(e.key)&&a.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(a)}),onBlur:(0,k.Mj)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(P.current),_.current="")}),onPointerMove:(0,k.Mj)(e.onPointerMove,eH(e=>{let t=e.target,r=A.current!==e.clientX;if(e.currentTarget.contains(t)&&r){let t=e.clientX>A.current?"right":"left";q.current=t,A.current=e.clientX}}))})})})})})})});eh.displayName=ep;var eb=s.forwardRef((e,t)=>{let{__scopeMenu:r,...s}=e;return(0,n.jsx)(P.WV.div,{role:"group",...s,ref:t})});eb.displayName="MenuGroup";var ew=s.forwardRef((e,t)=>{let{__scopeMenu:r,...s}=e;return(0,n.jsx)(P.WV.div,{...s,ref:t})});ew.displayName="MenuLabel";var eN="MenuItem",eC="menu.itemSelect",ek=s.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:a,...o}=e,i=s.useRef(null),l=eo(eN,e.__scopeMenu),d=ef(eN,e.__scopeMenu),c=(0,M.e)(t,i),u=s.useRef(!1);return(0,n.jsx)(eM,{...o,ref:c,disabled:r,onClick:(0,k.Mj)(e.onClick,()=>{let e=i.current;if(!r&&e){let t=new CustomEvent(eC,{bubbles:!0,cancelable:!0});e.addEventListener(eC,e=>a?.(e),{once:!0}),(0,P.jH)(e,t),t.defaultPrevented?u.current=!1:l.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),u.current=!0},onPointerUp:(0,k.Mj)(e.onPointerUp,e=>{u.current||e.currentTarget?.click()}),onKeyDown:(0,k.Mj)(e.onKeyDown,e=>{let t=""!==d.searchRef.current;!r&&(!t||" "!==e.key)&&U.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});ek.displayName=eN;var eM=s.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:a=!1,textValue:o,...i}=e,l=ef(eN,r),d=er(r),c=s.useRef(null),u=(0,M.e)(t,c),[m,p]=s.useState(!1),[x,f]=s.useState("");return s.useEffect(()=>{let e=c.current;e&&f((e.textContent??"").trim())},[i.children]),(0,n.jsx)(X.ItemSlot,{scope:r,disabled:a,textValue:o??x,children:(0,n.jsx)(L.ck,{asChild:!0,...d,focusable:!a,children:(0,n.jsx)(P.WV.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:u,onPointerMove:(0,k.Mj)(e.onPointerMove,eH(e=>{a?l.onItemLeave(e):(l.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,k.Mj)(e.onPointerLeave,eH(e=>l.onItemLeave(e))),onFocus:(0,k.Mj)(e.onFocus,()=>p(!0)),onBlur:(0,k.Mj)(e.onBlur,()=>p(!1))})})})}),eD=s.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:s,...a}=e;return(0,n.jsx)(ez,{scope:e.__scopeMenu,checked:r,children:(0,n.jsx)(ek,{role:"menuitemcheckbox","aria-checked":eW(r)?"mixed":r,...a,ref:t,"data-state":e$(r),onSelect:(0,k.Mj)(a.onSelect,()=>s?.(!!eW(r)||!r),{checkForDefaultPrevented:!1})})})});eD.displayName="MenuCheckboxItem";var eR="MenuRadioGroup",[eP,e_]=Q(eR,{value:void 0,onValueChange:()=>{}}),eI=s.forwardRef((e,t)=>{let{value:r,onValueChange:s,...a}=e,o=(0,F.W)(s);return(0,n.jsx)(eP,{scope:e.__scopeMenu,value:r,onValueChange:o,children:(0,n.jsx)(eb,{...a,ref:t})})});eI.displayName=eR;var eS="MenuRadioItem",eE=s.forwardRef((e,t)=>{let{value:r,...s}=e,a=e_(eS,e.__scopeMenu),o=r===a.value;return(0,n.jsx)(ez,{scope:e.__scopeMenu,checked:o,children:(0,n.jsx)(ek,{role:"menuitemradio","aria-checked":o,...s,ref:t,"data-state":e$(o),onSelect:(0,k.Mj)(s.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});eE.displayName=eS;var eT="MenuItemIndicator",[ez,eO]=Q(eT,{checked:!1}),eq=s.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:s,...a}=e,o=eO(eT,r);return(0,n.jsx)(A.z,{present:s||eW(o.checked)||!0===o.checked,children:(0,n.jsx)(P.WV.span,{...a,ref:t,"data-state":e$(o.checked)})})});eq.displayName=eT;var eA=s.forwardRef((e,t)=>{let{__scopeMenu:r,...s}=e;return(0,n.jsx)(P.WV.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});eA.displayName="MenuSeparator";var eL=s.forwardRef((e,t)=>{let{__scopeMenu:r,...s}=e,a=et(r);return(0,n.jsx)(O.Eh,{...a,...s,ref:t})});eL.displayName="MenuArrow";var[eZ,eF]=Q("MenuSub"),eK="MenuSubTrigger",eV=s.forwardRef((e,t)=>{let r=es(eK,e.__scopeMenu),a=eo(eK,e.__scopeMenu),o=eF(eK,e.__scopeMenu),i=ef(eK,e.__scopeMenu),l=s.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},m=s.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return s.useEffect(()=>m,[m]),s.useEffect(()=>{let e=d.current;return()=>{window.clearTimeout(e),c(null)}},[d,c]),(0,n.jsx)(el,{asChild:!0,...u,children:(0,n.jsx)(eM,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":eB(r.open),...e,ref:(0,M.F)(t,o.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:(0,k.Mj)(e.onPointerMove,eH(t=>{i.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||l.current||(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:(0,k.Mj)(e.onPointerLeave,eH(e=>{m();let t=r.content?.getBoundingClientRect();if(t){let n=r.content?.dataset.side,s="right"===n,a=t[s?"left":"right"],o=t[s?"right":"left"];i.onPointerGraceIntentChange({area:[{x:e.clientX+(s?-5:5),y:e.clientY},{x:a,y:t.top},{x:o,y:t.top},{x:o,y:t.bottom},{x:a,y:t.bottom}],side:n}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(e),e.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:(0,k.Mj)(e.onKeyDown,t=>{let n=""!==i.searchRef.current;!e.disabled&&(!n||" "!==t.key)&&W[a.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())})})})});eV.displayName=eK;var eU="MenuSubContent",eG=s.forwardRef((e,t)=>{let r=eu(ep,e.__scopeMenu),{forceMount:a=r.forceMount,...o}=e,i=es(ep,e.__scopeMenu),l=eo(ep,e.__scopeMenu),d=eF(eU,e.__scopeMenu),c=s.useRef(null),u=(0,M.e)(t,c);return(0,n.jsx)(X.Provider,{scope:e.__scopeMenu,children:(0,n.jsx)(A.z,{present:a||i.open,children:(0,n.jsx)(X.Slot,{scope:e.__scopeMenu,children:(0,n.jsx)(ej,{id:d.contentId,"aria-labelledby":d.triggerId,...o,ref:u,align:"start",side:"rtl"===l.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{l.isUsingKeyboardRef.current&&c.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,k.Mj)(e.onFocusOutside,e=>{e.target!==d.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:(0,k.Mj)(e.onEscapeKeyDown,e=>{l.onClose(),e.preventDefault()}),onKeyDown:(0,k.Mj)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=$[l.dir].includes(e.key);t&&r&&(i.onOpenChange(!1),d.trigger?.focus(),e.preventDefault())})})})})})});function eB(e){return e?"open":"closed"}function eW(e){return"indeterminate"===e}function e$(e){return eW(e)?"indeterminate":e?"checked":"unchecked"}function eH(e){return t=>"mouse"===t.pointerType?e(t):void 0}eG.displayName=eU;var eX="DropdownMenu",[eY,eJ]=(0,D.b)(eX,[ee]),eQ=ee(),[e0,e1]=eY(eX),e2=e=>{let{__scopeDropdownMenu:t,children:r,dir:a,open:o,defaultOpen:i,onOpenChange:l,modal:d=!0}=e,c=eQ(t),u=s.useRef(null),[m,p]=(0,R.T)({prop:o,defaultProp:i??!1,onChange:l,caller:eX});return(0,n.jsx)(e0,{scope:t,triggerId:(0,z.M)(),triggerRef:u,contentId:(0,z.M)(),open:m,onOpenChange:p,onOpenToggle:s.useCallback(()=>p(e=>!e),[p]),modal:d,children:(0,n.jsx)(ei,{...c,open:m,onOpenChange:p,dir:a,modal:d,children:r})})};e2.displayName=eX;var e4="DropdownMenuTrigger",e3=s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,o=e1(e4,r),i=eQ(r);return(0,n.jsx)(el,{asChild:!0,...i,children:(0,n.jsx)(P.WV.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:(0,M.F)(t,o.triggerRef),onPointerDown:(0,k.Mj)(e.onPointerDown,e=>{s||0!==e.button||!1!==e.ctrlKey||(o.onOpenToggle(),o.open||e.preventDefault())}),onKeyDown:(0,k.Mj)(e.onKeyDown,e=>{!s&&(["Enter"," "].includes(e.key)&&o.onOpenToggle(),"ArrowDown"===e.key&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});e3.displayName=e4;var e5=e=>{let{__scopeDropdownMenu:t,...r}=e,s=eQ(t);return(0,n.jsx)(em,{...s,...r})};e5.displayName="DropdownMenuPortal";var e6="DropdownMenuContent",e9=s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=e1(e6,r),i=eQ(r),l=s.useRef(!1);return(0,n.jsx)(eh,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...a,ref:t,onCloseAutoFocus:(0,k.Mj)(e.onCloseAutoFocus,e=>{l.current||o.triggerRef.current?.focus(),l.current=!1,e.preventDefault()}),onInteractOutside:(0,k.Mj)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;(!o.modal||n)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});e9.displayName=e6,s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=eQ(r);return(0,n.jsx)(eb,{...a,...s,ref:t})}).displayName="DropdownMenuGroup";var e7=s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=eQ(r);return(0,n.jsx)(ew,{...a,...s,ref:t})});e7.displayName="DropdownMenuLabel";var e8=s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=eQ(r);return(0,n.jsx)(ek,{...a,...s,ref:t})});e8.displayName="DropdownMenuItem";var te=s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=eQ(r);return(0,n.jsx)(eD,{...a,...s,ref:t})});te.displayName="DropdownMenuCheckboxItem",s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=eQ(r);return(0,n.jsx)(eI,{...a,...s,ref:t})}).displayName="DropdownMenuRadioGroup";var tt=s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=eQ(r);return(0,n.jsx)(eE,{...a,...s,ref:t})});tt.displayName="DropdownMenuRadioItem";var tr=s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=eQ(r);return(0,n.jsx)(eq,{...a,...s,ref:t})});tr.displayName="DropdownMenuItemIndicator";var tn=s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=eQ(r);return(0,n.jsx)(eA,{...a,...s,ref:t})});tn.displayName="DropdownMenuSeparator",s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=eQ(r);return(0,n.jsx)(eL,{...a,...s,ref:t})}).displayName="DropdownMenuArrow";var ts=s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=eQ(r);return(0,n.jsx)(eV,{...a,...s,ref:t})});ts.displayName="DropdownMenuSubTrigger";var ta=s.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=eQ(r);return(0,n.jsx)(eG,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ta.displayName="DropdownMenuSubContent";let to=(0,p.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var ti=r(32933),tl=r(53982),td=r(51223);s.forwardRef(({className:e,inset:t,children:r,...s},a)=>(0,n.jsxs)(ts,{ref:a,className:(0,td.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(to,{className:"ml-auto h-4 w-4"})]})).displayName=ts.displayName,s.forwardRef(({className:e,...t},r)=>n.jsx(ta,{ref:r,className:(0,td.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=ta.displayName;let tc=s.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(e5,{children:n.jsx(e9,{ref:s,sideOffset:t,className:(0,td.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));tc.displayName=e9.displayName;let tu=s.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(e8,{ref:s,className:(0,td.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));tu.displayName=e8.displayName,s.forwardRef(({className:e,children:t,checked:r,...s},a)=>(0,n.jsxs)(te,{ref:a,className:(0,td.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(tr,{children:n.jsx(ti.Z,{className:"h-4 w-4"})})}),t]})).displayName=te.displayName,s.forwardRef(({className:e,children:t,...r},s)=>(0,n.jsxs)(tt,{ref:s,className:(0,td.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(tr,{children:n.jsx(tl.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=tt.displayName,s.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(e7,{ref:s,className:(0,td.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r})).displayName=e7.displayName;let tm=s.forwardRef(({className:e,...t},r)=>n.jsx(tn,{ref:r,className:(0,td.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));function tp({roomId:e,userId:t}){let[r,a]=(0,s.useState)([]),[i,d]=(0,s.useState)(""),[p,k]=(0,s.useState)(!1),[M,D]=(0,s.useState)(null),[R,P]=(0,s.useState)([]),[_,I]=(0,s.useState)([]),[S,E]=(0,s.useState)(null),[T,z]=(0,s.useState)(""),[O,q]=(0,s.useState)(null),[A,L]=(0,s.useState)(""),[Z,F]=(0,s.useState)(""),[K,V]=(0,s.useState)(""),U=(0,s.useRef)(null),G=(0,s.useRef)(),{socket:B,isConnected:W}=(0,N.s)(),$=async()=>{try{let t=await fetch(`/api/chat/rooms/${e}/messages`);if(t.ok){let e=await t.json();a(Array.isArray(e)?e:e.messages||[])}}catch(e){console.error("Error fetching messages:",e)}},H=(0,s.useCallback)(async()=>{if(!i.trim()||p||!W)return;let r=`temp-${Date.now()}`,n={id:r,content:i,user:{id:t,name:Z,role:K},createdAt:new Date().toISOString(),isSystemMessage:!1,status:"sending",replyTo:O?{id:O.id,content:O.content||O.message||"",user:{name:O.user.name}}:void 0};a(e=>[...e,n]),d(""),q(null),k(!0);try{B&&B.emit("send-message",{roomId:e,content:i,replyToId:O?.id,tempId:r})}catch(e){console.error("Error sending message:",e),a(e=>e.filter(e=>e.id!==r))}finally{k(!1)}},[i,p,W,B,e,t,Z,K,O]),X=async(t,r)=>{try{let n=await fetch(`/api/chat/messages/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:r})});if(n.ok){let s=await n.json();a(e=>e.map(e=>e.id===t?{...e,...s,isEdited:!0}:e)),B&&B.emit("message-edited",{roomId:e,messageId:t,newContent:r,updatedMessage:s}),E(null),z("")}}catch(e){console.error("Error editing message:",e)}},Y=async t=>{try{(await fetch(`/api/chat/messages/${t}`,{method:"DELETE"})).ok&&(a(e=>e.map(e=>e.id===t?{...e,isDeleted:!0,content:"This message was deleted"}:e)),B&&B.emit("message-deleted",{roomId:e,messageId:t}))}catch(e){console.error("Error deleting message:",e)}},J=async(r,n)=>{try{let s=await fetch(`/api/chat/messages/${r}/react`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emoji:n})});if(s.ok){let o=await s.json();a(e=>e.map(e=>e.id===r?{...e,reactions:o}:e)),B&&B.emit("message-reaction",{roomId:e,messageId:r,emoji:n,userId:t})}}catch(e){console.error("Error reacting to message:",e)}},Q=e=>{q(e)},ee=e=>{navigator.clipboard.writeText(e)},et=()=>{B&&e&&(B.emit("typing",{roomId:e,userId:t}),G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{B.emit("stop-typing",{roomId:e,userId:t})},1e3))},er=e=>{let t=new Date(e);return(new Date().getTime()-t.getTime())/36e5<24?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString([],{month:"short",day:"numeric"})},en=e=>{switch(e){case"sending":return n.jsx("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin"});case"sent":return n.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"});case"delivered":return n.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400"});case"read":return n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"});default:return null}};return(0,n.jsxs)("div",{className:"flex flex-col h-full bg-white rounded-lg border shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t-lg",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(l.Z,{className:"h-5 w-5 text-blue-600"})}),(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:M?.name||"Loading..."}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[W?(0,n.jsxs)("div",{className:"flex items-center text-green-600",children:[n.jsx(u.Z,{className:"h-3 w-3 mr-1"}),n.jsx("span",{className:"text-xs",children:"Connected"})]}):(0,n.jsxs)("div",{className:"flex items-center text-red-600",children:[n.jsx(m.Z,{className:"h-3 w-3 mr-1"}),n.jsx("span",{className:"text-xs",children:"Connecting..."})]}),(0,n.jsxs)(w.C,{variant:"secondary",className:"text-xs",children:[n.jsx(c.Z,{className:"h-3 w-3 mr-1"}),_.length," online"]})]})]})]}),(0,n.jsxs)(e2,{children:[n.jsx(e3,{asChild:!0,children:n.jsx(o.z,{variant:"ghost",size:"sm",children:n.jsx(x,{className:"h-4 w-4"})})}),n.jsx(tc,{align:"end",children:n.jsx(tu,{onClick:$,children:"Refresh Messages"})})]})]}),n.jsx(C.x,{className:"flex-1 p-4",children:(0,n.jsxs)("div",{className:"space-y-4",children:[0===r.length?(0,n.jsxs)("div",{className:"text-center py-8",children:[n.jsx(l.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})]}):r.map((e,s)=>{let a=e.user.id===t,i=0===s||r[s-1].user.id!==e.user.id,l=S===e.id;return n.jsx("div",{className:`flex ${a?"justify-end":"justify-start"} group`,children:(0,n.jsxs)("div",{className:`flex items-end space-x-2 max-w-xs lg:max-w-md ${a?"flex-row-reverse space-x-reverse":""}`,children:[!a&&i&&n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white text-sm font-medium",children:e.user.name.charAt(0).toUpperCase()}),!a&&!i&&n.jsx("div",{className:"w-8 h-8"}),(0,n.jsxs)("div",{className:"relative",children:[e.replyTo&&(0,n.jsxs)("div",{className:`mb-1 p-2 rounded-lg border-l-4 ${a?"border-blue-300 bg-blue-50":"border-gray-300 bg-gray-50"}`,children:[(0,n.jsxs)("div",{className:"text-xs font-medium text-gray-600",children:["Replying to ",e.replyTo.user.name]}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:e.replyTo.content})]}),(0,n.jsxs)("div",{className:`px-4 py-2 rounded-2xl relative ${e.isDeleted?"bg-gray-100 text-gray-500 italic":a?"bg-blue-600 text-white rounded-br-md":e.isSystemMessage?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-900 rounded-bl-md"}`,children:[!e.isSystemMessage&&!e.isDeleted&&n.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,n.jsxs)(e2,{children:[n.jsx(e3,{asChild:!0,children:n.jsx(o.z,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:n.jsx(x,{className:"h-3 w-3"})})}),(0,n.jsxs)(tc,{align:"end",children:[(0,n.jsxs)(tu,{onClick:()=>Q(e),children:[n.jsx(f,{className:"h-4 w-4 mr-2"}),"Reply"]}),(0,n.jsxs)(tu,{onClick:()=>ee(e.content||e.message||""),children:[n.jsx(h,{className:"h-4 w-4 mr-2"}),"Copy"]}),n.jsx(tm,{}),(0,n.jsxs)(tu,{onClick:()=>J(e.id,"\uD83D\uDC4D"),children:[n.jsx(g,{className:"h-4 w-4 mr-2"}),"\uD83D\uDC4D"]}),(0,n.jsxs)(tu,{onClick:()=>J(e.id,"❤️"),children:[n.jsx(g,{className:"h-4 w-4 mr-2"}),"❤️"]}),(0,n.jsxs)(tu,{onClick:()=>J(e.id,"\uD83D\uDE02"),children:[n.jsx(g,{className:"h-4 w-4 mr-2"}),"\uD83D\uDE02"]}),(0,n.jsxs)(tu,{onClick:()=>J(e.id,"\uD83D\uDE2E"),children:[n.jsx(g,{className:"h-4 w-4 mr-2"}),"\uD83D\uDE2E"]}),(0,n.jsxs)(tu,{onClick:()=>J(e.id,"\uD83D\uDE22"),children:[n.jsx(g,{className:"h-4 w-4 mr-2"}),"\uD83D\uDE22"]}),a&&(0,n.jsxs)(n.Fragment,{children:[n.jsx(tm,{}),(0,n.jsxs)(tu,{onClick:()=>{E(e.id),z(e.content||e.message||"")},children:[n.jsx(y.Z,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,n.jsxs)(tu,{onClick:()=>Y(e.id),className:"text-red-600",children:[n.jsx(v.Z,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})}),!a&&!e.isSystemMessage&&i&&(0,n.jsxs)("div",{className:"text-xs font-medium mb-1 text-gray-600",children:[e.user.name,"ADMIN"===e.user.role&&n.jsx(w.C,{variant:"secondary",className:"ml-1 text-xs",children:"Admin"}),"TEACHER"===e.user.role&&n.jsx(w.C,{variant:"secondary",className:"ml-1 text-xs",children:"Teacher"})]}),l?(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(b.I,{value:T,onChange:e=>z(e.target.value),onKeyPress:t=>{"Enter"===t.key?X(e.id,T):"Escape"===t.key&&(E(null),z(""))},className:"text-sm"}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[n.jsx(o.z,{size:"sm",onClick:()=>X(e.id,T),children:"Save"}),n.jsx(o.z,{size:"sm",variant:"outline",onClick:()=>{E(null),z("")},children:"Cancel"})]})]}):(0,n.jsxs)("div",{className:"break-words whitespace-pre-wrap",children:[e.content||e.message,e.isEdited&&n.jsx("span",{className:"text-xs opacity-70 ml-2",children:"(edited)"})]}),e.reactions&&e.reactions.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.reactions.map((t,r)=>(0,n.jsxs)("button",{onClick:()=>J(e.id,t.emoji),className:"flex items-center space-x-1 bg-gray-200 hover:bg-gray-300 rounded-full px-2 py-1 text-xs transition-colors",children:[n.jsx("span",{children:t.emoji}),n.jsx("span",{children:t.count})]},r))}),(0,n.jsxs)("div",{className:`flex items-center justify-between mt-1 text-xs ${a?"text-blue-100":"text-gray-500"}`,children:[n.jsx("span",{children:er(e.createdAt)}),a&&n.jsx("div",{className:"ml-2",children:en(e.status)})]})]})]})]})},e.id)}),R.length>0&&n.jsx("div",{className:"flex justify-start",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,n.jsxs)("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-1 h-1 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-1 h-1 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-1 h-1 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),n.jsx("div",{className:"bg-gray-100 px-3 py-2 rounded-2xl rounded-bl-md",children:(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:[R.join(", ")," ",1===R.length?"is":"are"," typing..."]})})]})}),n.jsx("div",{ref:U})]})}),(0,n.jsxs)("div",{className:"p-4 border-t bg-gray-50 rounded-b-lg",children:[O&&n.jsx("div",{className:"mb-3 p-3 bg-blue-50 border-l-4 border-blue-400 rounded",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"text-xs font-medium text-blue-700",children:["Replying to ",O.user.name]}),n.jsx("div",{className:"text-sm text-blue-600 truncate",children:O.content||O.message})]}),n.jsx(o.z,{variant:"ghost",size:"sm",onClick:()=>q(null),className:"h-6 w-6 p-0 text-blue-600",children:"\xd7"})]})}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[n.jsx(b.I,{value:i,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey?et():(e.preventDefault(),H())},placeholder:O?"Reply to message...":"Type a message...",disabled:p||!W,className:"flex-1 bg-white"}),n.jsx(o.z,{onClick:H,disabled:!i.trim()||p||!W,className:"bg-blue-600 hover:bg-blue-700",children:p?n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):n.jsx(j.Z,{className:"h-4 w-4"})})]}),!W&&n.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Connection lost. Trying to reconnect..."})]})]})}function tx({params:e}){let t=(0,a.useRouter)(),{user:r,loading:u}=(0,i.a)(),[m,p]=(0,s.useState)(null),[x,f]=(0,s.useState)(!0),h=()=>{t.push("/chat")};return u||x?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading chat room..."})]})}):r?m?(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[n.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex justify-between items-center h-16",children:(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)(o.z,{variant:"ghost",onClick:h,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[n.jsx(d.Z,{className:"h-4 w-4"}),"Back to Rooms"]}),n.jsx("div",{className:"h-6 w-px bg-gray-300"}),(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-blue-700 rounded-full flex items-center justify-center",children:n.jsx(l.Z,{className:"h-5 w-5 text-white"})}),(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:m.name}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(c.Z,{className:"h-4 w-4"}),(0,n.jsxs)("span",{children:["Created by ",m.creator.name]}),m.quiz&&(0,n.jsxs)(n.Fragment,{children:[n.jsx("span",{children:"•"}),(0,n.jsxs)("span",{children:["Quiz: ",m.quiz.title]})]})]})]})]})]})})})}),n.jsx("div",{className:"flex-1 max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-6",children:n.jsx("div",{className:"h-[calc(100vh-140px)]",children:n.jsx(tp,{roomId:e.roomId,userId:r.id})})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[n.jsx(l.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Room Not Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"The chat room you're looking for doesn't exist."}),n.jsx(o.z,{onClick:h,children:"Back to Chat"})]})}):(t.push("/"),null)}tm.displayName=tn.displayName},38443:(e,t,r)=>{"use strict";r.d(t,{C:()=>i});var n=r(10326);r(17577);var s=r(79360),a=r(51223);let o=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...r}){return n.jsx("div",{className:(0,a.cn)(o({variant:t}),e),...r})}},91664:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var n=r(10326),s=r(17577),a=r(34214),o=r(79360),i=r(51223);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...o},d)=>{let c=s?a.g7:"button";return n.jsx(c,{className:(0,i.cn)(l({variant:t,size:r,className:e})),ref:d,...o})});d.displayName="Button"},41190:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var n=r(10326),s=r(17577),a=r(51223);let o=s.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));o.displayName="Input"},3236:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var n=r(10326),s=r(17577),a=r(16999),o=r(51223);let i=s.forwardRef(({className:e,children:t,...r},s)=>(0,n.jsxs)(a.fC,{ref:s,className:(0,o.cn)("relative overflow-hidden",e),...r,children:[n.jsx(a.l_,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(l,{}),n.jsx(a.Ns,{})]}));i.displayName=a.fC.displayName;let l=s.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(a.gb,{ref:s,orientation:t,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(a.q4,{className:"relative flex-1 rounded-full bg-border"})}));l.displayName=a.gb.displayName},74131:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var n=r(17577);function s(){let[e,t]=(0,n.useState)(null),[r,s]=(0,n.useState)(!0);return{user:e,loading:r}}},26784:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(17577),s=r(80057);function a(e){let[t,r]=(0,n.useState)(null),[a,o]=(0,n.useState)(!1),[i,l]=(0,n.useState)([]),d=(0,n.useRef)(),c=(0,n.useCallback)(()=>{if(t&&t.connected)return;let e=(0,s.io)(process.env.NEXT_PUBLIC_SOCKET_URL||window.location.origin,{path:"/api/socketio",transports:["websocket","polling"],upgrade:!0,rememberUpgrade:!0,timeout:2e4,forceNew:!0});e.on("connect",()=>{console.log("Connected to server"),o(!0),d.current&&clearTimeout(d.current)}),e.on("disconnect",t=>{console.log("Disconnected from server:",t),o(!1),d.current=setTimeout(()=>{console.log("Attempting to reconnect..."),e.connect()},3e3)}),e.on("connect_error",e=>{console.error("Connection error:",e),o(!1)}),r(e)},[t]),u=(0,n.useCallback)((e,r)=>{t&&t.on(e,r)},[t]),m=(0,n.useCallback)((e,r)=>{t&&(r?t.off(e,r):t.off(e))},[t]),p=(0,n.useCallback)((r,n)=>{t&&a&&t.emit("join-study-session",{sessionId:r,userId:n||e?.userId})},[t,a,e?.userId]),x=(0,n.useCallback)((r,n)=>{t&&a&&t.emit("leave-study-session",{sessionId:r,userId:n||e?.userId})},[t,a,e?.userId]),f=(0,n.useCallback)((r,n,s,o)=>{t&&a&&t.emit("study-session-update",{sessionId:r,updateType:n,content:s,userId:o||e?.userId})},[t,a,e?.userId]);return{socket:t,isConnected:a,connect:c,on:u,off:m,joinStudySession:p,leaveStudySession:x,sendStudySessionUpdate:f,recentAnnouncements:i}}},51223:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var n=r(41135),s=r(31009);function a(...e){return(0,s.m6)((0,n.W)(e))}},89214:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(68570).createProxy)(String.raw`C:\Users\HP\Documents\InfTech-quiz-management-system\src\app\chat\[roomId]\page.tsx#default`)},32029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>o});var n=r(19510),s=r(25384),a=r.n(s);r(5023);let o={title:"Quiz Management System",description:"A comprehensive quiz management system for admins and students"};function i({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:`${a().className} bg-professional-gradient`,children:n.jsx("div",{className:"min-h-screen",children:e})})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[9276,349,9735,3644,7432,6267],()=>r(96692));module.exports=n})();