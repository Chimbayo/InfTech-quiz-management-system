(()=>{var e={};e.id=558,e.ids=[558],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},24635:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(79183),s(32029),s(35866);var r=s(23191),a=s(88716),l=s(37922),i=s.n(l),n=s(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["student",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,79183)),"C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\student\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\student\\dashboard\\page.tsx"],u="/student/dashboard/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/student/dashboard/page",pathname:"/student/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9856:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},9030:()=>{},4207:(e,t,s)=>{Promise.resolve().then(s.bind(s,45351))},76464:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},6507:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},6343:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},37358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},54659:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},71810:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},33734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},17069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},91470:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},94019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},45351:(e,t,s)=>{"use strict";s.d(t,{EnhancedStudentDashboard:()=>Z});var r=s(10326),a=s(17577),l=s(35047),i=s(91664),n=s(29752),o=s(38443),c=s(50384),d=s(6343),u=s(71810),m=s(76464),x=s(40617),h=s(24061),g=s(17069),p=s(54659),b=s(37358),f=s(33734),j=s(76557);let y=(0,j.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var v=s(91470);let N=(0,j.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var w=s(6507),z=s(94019),C=s(26784);function k({userId:e,userName:t,userRole:s}){let[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(0),{socket:h,isConnected:g}=(0,C.s)(),p=e=>{c(t=>t.map(t=>t.id===e?{...t,read:!0}:t)),x(e=>Math.max(0,e-1))},b=e=>{c(t=>t.filter(t=>t.id!==e)),x(t=>{let s=l.find(t=>t.id===e);return s&&!s.read?Math.max(0,t-1):t})};return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>u(!d),className:"relative p-2 hover:bg-blue-50",children:[r.jsx(w.Z,{className:"h-5 w-5 text-blue-600"}),m>0&&r.jsx(o.C,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:m>9?"9+":m})]}),d&&r.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 z-50",children:(0,r.jsxs)(n.Zb,{className:"shadow-lg border-blue-200",children:[r.jsx(n.Ol,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(n.ll,{className:"text-lg text-blue-800",children:"Notifications"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[m>0&&r.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>{c(e=>e.map(e=>({...e,read:!0}))),x(0)},className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all read"}),r.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>u(!1),className:"p-1",children:r.jsx(z.Z,{className:"h-4 w-4"})})]})]})}),r.jsx(n.aY,{className:"p-0",children:r.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===l.length?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"}):l.map(e=>r.jsx("div",{className:`p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${e.read?"":"bg-blue-50 border-l-4 border-l-blue-500"}`,onClick:()=>p(e.id),children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:`text-sm ${e.read?"text-gray-700":"font-semibold text-blue-900"}`,children:e.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp.toLocaleString()})]}),r.jsx(i.z,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),b(e.id)},className:"p-1 ml-2",children:r.jsx(z.Z,{className:"h-3 w-3"})})]})},e.id))})})]})})]})}function Z({user:e,quizzes:t,attempts:s}){let j=(0,l.useRouter)(),[w,z]=(0,a.useState)(!1),[Z,S]=(0,a.useState)([]),[R,q]=(0,a.useState)([]),[_,P]=(0,a.useState)([]),[M,A]=(0,a.useState)("dashboard"),[O,T]=(0,a.useState)([]),[D,E]=(0,a.useState)(t),[I,Y]=(0,a.useState)(0),[U,V]=(0,a.useState)(5),[L,$]=(0,a.useState)(0),[Q,F]=(0,a.useState)([]),{socket:G,isConnected:H}=(0,C.s)();(0,a.useCallback)(async()=>{try{let e=await fetch("/api/quizzes?role=student");if(e.ok){let t=await e.json();E(t),T(t.slice(0,3))}}catch(e){console.error("Error fetching quizzes:",e)}},[]),(0,a.useCallback)(()=>{if(0===s.length)return 0;let e=s.filter(e=>e.completedAt).sort((e,t)=>new Date(t.completedAt).getTime()-new Date(e.completedAt).getTime()),t=0,r=new Date;for(let s of(r.setHours(0,0,0,0),e)){let e=new Date(s.completedAt);e.setHours(0,0,0,0);let a=Math.floor((r.getTime()-e.getTime())/864e5);if(a===t)t++;else if(a>t)break}return t},[s]),(0,a.useCallback)(()=>{let e=new Date;return e.setDate(e.getDate()-7),s.filter(t=>t.completedAt&&new Date(t.completedAt)>e).length},[s]),(0,a.useCallback)(async()=>{try{let e=await fetch("/api/chat/rooms");if(e.ok){let t=await e.json();S(t)}}catch(e){console.error("Error fetching chat rooms:",e)}},[]),(0,a.useCallback)(async()=>{try{let e=await fetch("/api/study-groups");if(e.ok){let t=await e.json();q(t)}}catch(e){console.error("Error fetching study groups:",e)}},[]),(0,a.useCallback)(async()=>{try{let e=await fetch("/api/study-milestones");if(e.ok){let t=await e.json();P(t)}}catch(e){console.error("Error fetching study milestones:",e)}},[]);let B=async()=>{z(!0);try{await fetch("/api/auth/logout",{method:"POST"}),j.push("/")}catch(e){console.error("Logout error:",e)}finally{z(!1)}},W=e=>{j.push(`/student/quiz/${e}`)},X=e=>{j.push(`/chat/${e}`)},J=()=>Z.filter(e=>"QUIZ_DISCUSSION"===e.type),K=()=>Z.filter(e=>"GENERAL"===e.type),ee=(e,t)=>e>=t?"text-green-600":"text-red-600",et=(e,t)=>e>=t?"default":"destructive";return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[r.jsx("header",{className:"bg-white/80 backdrop-blur-sm shadow-lg border-b border-blue-100",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-2 rounded-lg mr-3",children:r.jsx(d.Z,{className:"h-6 w-6 text-white"})}),r.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent",children:"Student Dashboard"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(k,{userId:e.id,userName:e.name,userRole:e.role}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 bg-blue-50 px-3 py-2 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,r.jsxs)("span",{className:"text-sm font-medium text-blue-700",children:["Welcome, ",e.name]})]}),(0,r.jsxs)(i.z,{onClick:B,variant:"outline",size:"sm",disabled:w,className:"flex items-center gap-2 border-blue-200 text-blue-700 hover:bg-blue-50 hover:border-blue-300",children:[r.jsx(u.Z,{className:"h-4 w-4"}),w?"Logging out...":"Logout"]})]})]})})}),(0,r.jsxs)("div",{className:"flex h-[calc(100vh-80px)]",children:[(0,r.jsxs)("div",{className:"w-64 bg-white/70 backdrop-blur-sm border-r border-blue-100 p-4 flex flex-col",children:[r.jsx("h3",{className:"text-lg font-semibold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent mb-4",children:"Navigation"}),(0,r.jsxs)("nav",{className:"space-y-2 flex-1",children:[(0,r.jsxs)(i.z,{onClick:()=>A("dashboard"),variant:"dashboard"===M?"default":"ghost",className:`w-full justify-start ${"dashboard"===M?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"}`,children:[r.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),(0,r.jsxs)(i.z,{onClick:()=>A("quizzes"),variant:"quizzes"===M?"default":"ghost",className:`w-full justify-start ${"quizzes"===M?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"}`,children:[r.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Quizzes"]}),(0,r.jsxs)(i.z,{onClick:()=>A("study-chat"),variant:"study-chat"===M?"default":"ghost",className:`w-full justify-start ${"study-chat"===M?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"}`,children:[r.jsx(x.Z,{className:"h-4 w-4 mr-2"}),"Study Chat"]}),(0,r.jsxs)(i.z,{onClick:()=>A("study-groups"),variant:"study-groups"===M?"default":"ghost",className:`w-full justify-start ${"study-groups"===M?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"}`,children:[r.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Study Groups"]}),(0,r.jsxs)(i.z,{onClick:()=>A("progress"),variant:"progress"===M?"default":"ghost",className:`w-full justify-start ${"progress"===M?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"}`,children:[r.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Progress"]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)(c.mQ,{value:M,onValueChange:A,className:"space-y-6",children:[(0,r.jsxs)(c.nU,{value:"dashboard",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,r.jsxs)(n.Zb,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium text-blue-800",children:"Available Quizzes"}),r.jsx(d.Z,{className:"h-5 w-5 text-blue-600"})]}),(0,r.jsxs)(n.aY,{children:[r.jsx("div",{className:"text-3xl font-bold text-blue-900",children:D.length}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Ready to take"})]})]}),(0,r.jsxs)(n.Zb,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium text-green-800",children:"Completed"}),r.jsx(p.Z,{className:"h-5 w-5 text-green-600"})]}),(0,r.jsxs)(n.aY,{children:[r.jsx("div",{className:"text-3xl font-bold text-green-900",children:s.length}),r.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Quiz attempts"})]})]}),(0,r.jsxs)(n.Zb,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium text-purple-800",children:"Average Score"}),r.jsx(g.Z,{className:"h-5 w-5 text-purple-600"})]}),(0,r.jsxs)(n.aY,{children:[(0,r.jsxs)("div",{className:"text-3xl font-bold text-purple-900",children:[s.length>0?Math.round(s.reduce((e,t)=>e+t.score,0)/s.length):0,"%"]}),r.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Performance"})]})]}),(0,r.jsxs)(n.Zb,{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200",children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium text-orange-800",children:"Study Groups"}),r.jsx(h.Z,{className:"h-5 w-5 text-orange-600"})]}),(0,r.jsxs)(n.aY,{children:[r.jsx("div",{className:"text-3xl font-bold text-orange-900",children:R.length}),r.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Active groups"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{children:(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[r.jsx(b.Z,{className:"h-5 w-5 text-blue-600"}),"Upcoming Quizzes"]})}),r.jsx(n.aY,{className:"space-y-3",children:0===O.length?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming quizzes"}):O.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[e._count.questions," questions"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[e.enableChat&&e.chatRooms&&e.chatRooms.length>0&&r.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>X(e.chatRooms[0].id),children:r.jsx(x.Z,{className:"h-4 w-4"})}),r.jsx(i.z,{size:"sm",onClick:()=>W(e.id),className:"bg-blue-600 hover:bg-blue-700",children:"Start"})]})]},e.id))})]}),(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{children:(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[r.jsx(f.Z,{className:"h-5 w-5 text-yellow-600"}),"Recent Achievements"]})}),r.jsx(n.aY,{className:"space-y-3",children:_.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${"completion"===e.type?"bg-green-100":"social"===e.type?"bg-blue-100":"bg-yellow-100"}`,children:"completion"===e.type?r.jsx(p.Z,{className:"h-4 w-4 text-green-600"}):"social"===e.type?r.jsx(h.Z,{className:"h-4 w-4 text-blue-600"}):r.jsx(f.Z,{className:"h-4 w-4 text-yellow-600"})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:e.title}),r.jsx("p",{className:"text-sm text-gray-500",children:e.date?.toLocaleDateString()})]})]},e.id))})]})]})]}),(0,r.jsxs)(c.nU,{value:"quizzes",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Available Quizzes"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Choose a quiz to test your knowledge and join study discussions"})]}),0===D.length?r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"text-center py-16",children:[r.jsx(d.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No quizzes available"}),r.jsx("p",{className:"text-gray-600",children:"Check back later for new quizzes from your instructors"})]})}):r.jsx("div",{className:"grid gap-6",children:D.map(e=>(0,r.jsxs)(n.Zb,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(n.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-3 text-lg",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(d.Z,{className:"h-4 w-4 text-white"})}),e.title,e.enableChat&&(0,r.jsxs)(o.C,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:[r.jsx(x.Z,{className:"h-3 w-3 mr-1"}),"Chat Available"]})]}),r.jsx(n.SZ,{className:"mt-2",children:e.description||"Test your knowledge with this quiz"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Created by ",e.creator.name]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[e.enableChat&&e.chatRooms&&e.chatRooms.length>0&&(0,r.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>X(e.chatRooms[0].id),className:"border-green-200 text-green-700 hover:bg-green-50",children:[r.jsx(x.Z,{className:"h-4 w-4 mr-2"}),"Study Chat"]}),(0,r.jsxs)(i.z,{onClick:()=>W(e.id),disabled:!e.isActive,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(y,{className:"h-4 w-4 mr-2"}),"Start Quiz"]})]})]})}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e._count.questions}),r.jsx("div",{className:"text-sm text-blue-700",children:"Questions"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[e.passingScore,"%"]}),r.jsx("div",{className:"text-sm text-purple-700",children:"Pass Score"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.timeLimit?`${e.timeLimit}`:"∞"}),r.jsx("div",{className:"text-sm text-orange-700",children:e.timeLimit?"Minutes":"No Limit"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e._count.attempts}),r.jsx("div",{className:"text-sm text-green-700",children:"Attempts"})]})]})})]},e.id))})]}),(0,r.jsxs)(c.nU,{value:"study-chat",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Study Chat Rooms"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Join quiz discussions and general study rooms"})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(d.Z,{className:"h-5 w-5 text-blue-600"}),"Quiz Discussion Rooms"]}),J().length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:J().map(e=>(0,r.jsxs)(n.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-l-blue-500",onClick:()=>X(e.id),children:[(0,r.jsxs)(n.Ol,{className:"pb-3",children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-2 text-base",children:[r.jsx(x.Z,{className:"h-4 w-4 text-blue-600"}),e.name]}),r.jsx(n.SZ,{className:"text-sm",children:e.quiz?`Quiz: ${e.quiz.title}`:"Quiz Discussion"})]}),(0,r.jsxs)(n.aY,{className:"pt-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(o.C,{className:"bg-blue-100 text-blue-800",children:"Quiz Discussion"}),r.jsx(i.z,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Join Chat"})]}),e._count&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[e._count.messages," messages"]})]})]},e.id))}):r.jsx(n.Zb,{className:"border-dashed border-2 border-gray-200",children:(0,r.jsxs)(n.aY,{className:"text-center py-8",children:[r.jsx(d.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Quiz Chat Rooms"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Quiz chat rooms will appear here when instructors create quizzes with chat enabled"})]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(h.Z,{className:"h-5 w-5 text-green-600"}),"General Study Rooms"]}),K().length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:K().map(e=>(0,r.jsxs)(n.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-l-green-500",onClick:()=>X(e.id),children:[(0,r.jsxs)(n.Ol,{className:"pb-3",children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-2 text-base",children:[r.jsx(x.Z,{className:"h-4 w-4 text-green-600"}),e.name]}),r.jsx(n.SZ,{className:"text-sm",children:"General study discussion"})]}),(0,r.jsxs)(n.aY,{className:"pt-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(o.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:"General Study"}),r.jsx(i.z,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Join Chat"})]}),e._count&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[e._count.messages," messages"]})]})]},e.id))}):r.jsx(n.Zb,{className:"border-dashed border-2 border-gray-200",children:(0,r.jsxs)(n.aY,{className:"text-center py-8",children:[r.jsx(h.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No General Chat Rooms"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"General study rooms will appear here when created by instructors"})]})})]}),0===J().length&&0===K().length&&r.jsx(n.Zb,{className:"mt-8",children:(0,r.jsxs)(n.aY,{className:"text-center py-16",children:[r.jsx(x.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No chat rooms available"}),r.jsx("p",{className:"text-gray-600",children:"Chat rooms will appear here when quizzes with chat are created"})]})})]}),(0,r.jsxs)(c.nU,{value:"study-groups",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-700 to-indigo-700 bg-clip-text text-transparent",children:"My Study Groups"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Collaborate with peers in your assigned study groups and participate in discussions"})]}),r.jsx("div",{className:"grid gap-6",children:R.map(e=>(0,r.jsxs)(n.Zb,{className:"border-l-4 border-l-purple-500 hover:shadow-lg transition-all duration-300",children:[r.jsx(n.Ol,{className:"bg-gradient-to-r from-purple-50 to-indigo-50",children:r.jsx("div",{className:"flex justify-between items-start",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-3 text-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(h.Z,{className:"h-5 w-5 text-white"})}),e.name,r.jsx(o.C,{className:"bg-purple-100 text-purple-800",children:"Member"})]}),r.jsx(n.SZ,{className:"mt-2 text-gray-700",children:e.description||"Collaborative learning group for enhanced study experience"})]})})}),(0,r.jsxs)(n.aY,{className:"pt-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.members.length}),r.jsx("div",{className:"text-sm text-purple-700",children:"Members"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.chatRooms&&e.chatRooms.length>0?"✓":"✗"}),r.jsx("div",{className:"text-sm text-blue-700",children:"Chat Room"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Active"}),r.jsx("div",{className:"text-sm text-green-700",children:"Status"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex -space-x-2",children:[e.members.slice(0,4).map((e,t)=>r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full flex items-center justify-center text-white text-xs font-medium border-2 border-white",title:e.user.name,children:e.user.name.charAt(0).toUpperCase()},t)),e.members.length>4&&(0,r.jsxs)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 text-xs font-medium border-2 border-white",children:["+",e.members.length-4]})]}),e.chatRooms&&e.chatRooms.length>0&&(0,r.jsxs)(o.C,{className:"bg-green-100 text-green-800",children:[r.jsx(x.Z,{className:"h-3 w-3 mr-1"}),"Discussion Active"]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[e.chatRooms&&e.chatRooms.length>0&&(0,r.jsxs)(i.z,{size:"sm",onClick:()=>X(e.chatRooms[0].id),className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:[r.jsx(x.Z,{className:"h-4 w-4 mr-2"}),"Join Discussion"]}),(0,r.jsxs)(i.z,{variant:"outline",size:"sm",className:"border-purple-200 text-purple-700 hover:bg-purple-50",children:[r.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"View Members"]})]})]})]})]},e.id))}),0===R.length&&r.jsx(n.Zb,{className:"border-2 border-dashed border-gray-200",children:(0,r.jsxs)(n.aY,{className:"text-center py-16",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(h.Z,{className:"h-10 w-10 text-purple-500"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Study Groups Assigned"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't been added to any study groups yet. Study groups will appear here when your instructor assigns you to one."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:(0,r.jsxs)("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Tip:"})," Study groups help you collaborate with classmates, share knowledge, and participate in group discussions about quiz topics."]})})]})})]}),(0,r.jsxs)(c.nU,{value:"progress",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Progress"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Track your learning journey and achievements"})]}),s.length>0&&(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{children:r.jsx(n.ll,{children:"Quiz History"})}),r.jsx(n.aY,{children:r.jsx("div",{className:"space-y-4",children:s.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:e.passed?r.jsx(p.Z,{className:"h-8 w-8 text-green-600"}):r.jsx(v.Z,{className:"h-8 w-8 text-red-600"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:e.quiz.title}),r.jsx("p",{className:"text-sm text-gray-600",children:new Date(e.completedAt||e.startedAt).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:`text-xl font-bold ${ee(e.score,e.quiz.passingScore)}`,children:[e.score,"%"]}),r.jsx(o.C,{variant:et(e.score,e.quiz.passingScore),children:e.passed?"Passed":"Failed"})]}),r.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>j.push(`/student/quiz/${e.quizId}/results`),children:"View Details"})]})]},e.id))})})]}),0===s.length&&r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"text-center py-16",children:[r.jsx(N,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No quiz attempts yet"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Start taking quizzes to track your progress"}),(0,r.jsxs)(i.z,{onClick:()=>A("quizzes"),className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(y,{className:"h-4 w-4 mr-2"}),"Take Your First Quiz"]})]})})]})]})})})]})]})}},38443:(e,t,s)=>{"use strict";s.d(t,{C:()=>n});var r=s(10326);s(17577);var a=s(79360),l=s(51223);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t,...s}){return r.jsx("div",{className:(0,l.cn)(i({variant:t}),e),...s})}},91664:(e,t,s)=>{"use strict";s.d(t,{z:()=>c});var r=s(10326),a=s(17577),l=s(34214),i=s(79360),n=s(51223);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...i},c)=>{let d=a?l.g7:"button";return r.jsx(d,{className:(0,n.cn)(o({variant:t,size:s,className:e})),ref:c,...i})});c.displayName="Button"},29752:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>n,SZ:()=>c,Zb:()=>i,aY:()=>d,ll:()=>o});var r=s(10326),a=s(17577),l=s(51223);let i=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let n=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let o=a.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let c=a.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},50384:(e,t,s)=>{"use strict";s.d(t,{SP:()=>c,dr:()=>o,mQ:()=>n,nU:()=>d});var r=s(10326),a=s(17577),l=s(28407),i=s(51223);let n=l.fC,o=a.forwardRef(({className:e,...t},s)=>r.jsx(l.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));o.displayName=l.aV.displayName;let c=a.forwardRef(({className:e,...t},s)=>r.jsx(l.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));c.displayName=l.xz.displayName;let d=a.forwardRef(({className:e,...t},s)=>r.jsx(l.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));d.displayName=l.VY.displayName},26784:(e,t,s)=>{"use strict";s.d(t,{s:()=>l});var r=s(17577),a=s(80057);function l(e){let[t,s]=(0,r.useState)(null),[l,i]=(0,r.useState)(!1),[n,o]=(0,r.useState)([]),c=(0,r.useRef)(),d=(0,r.useCallback)(()=>{if(t&&t.connected)return;let e=(0,a.io)(process.env.NEXT_PUBLIC_SOCKET_URL||window.location.origin,{path:"/api/socketio",transports:["websocket","polling"],upgrade:!0,rememberUpgrade:!0,timeout:2e4,forceNew:!0});e.on("connect",()=>{console.log("Connected to server"),i(!0),c.current&&clearTimeout(c.current)}),e.on("disconnect",t=>{console.log("Disconnected from server:",t),i(!1),c.current=setTimeout(()=>{console.log("Attempting to reconnect..."),e.connect()},3e3)}),e.on("connect_error",e=>{console.error("Connection error:",e),i(!1)}),s(e)},[t]),u=(0,r.useCallback)((e,s)=>{t&&t.on(e,s)},[t]),m=(0,r.useCallback)((e,s)=>{t&&(s?t.off(e,s):t.off(e))},[t]),x=(0,r.useCallback)((s,r)=>{t&&l&&t.emit("join-study-session",{sessionId:s,userId:r||e?.userId})},[t,l,e?.userId]),h=(0,r.useCallback)((s,r)=>{t&&l&&t.emit("leave-study-session",{sessionId:s,userId:r||e?.userId})},[t,l,e?.userId]),g=(0,r.useCallback)((s,r,a,i)=>{t&&l&&t.emit("study-session-update",{sessionId:s,updateType:r,content:a,userId:i||e?.userId})},[t,l,e?.userId]);return{socket:t,isConnected:l,connect:d,on:u,off:m,joinStudySession:x,leaveStudySession:h,sendStudySessionUpdate:g,recentAnnouncements:n}}},51223:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var r=s(41135),a=s(31009);function l(...e){return(0,a.m6)((0,r.W)(e))}},58585:(e,t,s)=>{"use strict";var r=s(61085);s.o(r,"redirect")&&s.d(t,{redirect:function(){return r.redirect}})},61085:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return r.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return r.permanentRedirect},redirect:function(){return r.redirect}});let r=s(83953),a=s(16399);class l extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new l}delete(){throw new l}set(){throw new l}sort(){throw new l}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{isNotFoundError:function(){return a},notFound:function(){return r}});let s="NEXT_NOT_FOUND";function r(){let e=Error(s);throw e.digest=s,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===s}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return s}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,s)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{RedirectType:function(){return r},getRedirectError:function(){return o},getRedirectStatusCodeFromError:function(){return h},getRedirectTypeFromError:function(){return x},getURLFromRedirectError:function(){return m},isRedirectError:function(){return u},permanentRedirect:function(){return d},redirect:function(){return c}});let a=s(54580),l=s(72934),i=s(8586),n="NEXT_REDIRECT";function o(e,t,s){void 0===s&&(s=i.RedirectStatusCode.TemporaryRedirect);let r=Error(n);r.digest=n+";"+t+";"+e+";"+s+";";let l=a.requestAsyncStorage.getStore();return l&&(r.mutableCookies=l.mutableCookies),r}function c(e,t){void 0===t&&(t="replace");let s=l.actionAsyncStorage.getStore();throw o(e,t,(null==s?void 0:s.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function d(e,t){void 0===t&&(t="replace");let s=l.actionAsyncStorage.getStore();throw o(e,t,(null==s?void 0:s.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,s,r,a]=e.digest.split(";",4),l=Number(a);return t===n&&("replace"===s||"push"===s)&&"string"==typeof r&&!isNaN(l)&&l in i.RedirectStatusCode}function m(e){return u(e)?e.digest.split(";",3)[2]:null}function x(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function h(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},32029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var r=s(19510),a=s(25384),l=s.n(a);s(5023);let i={title:"Quiz Management System",description:"A comprehensive quiz management system for admins and students"};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:`${l().className} bg-professional-gradient`,children:r.jsx("div",{className:"min-h-screen",children:e})})})}},79183:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,dynamic:()=>o});var r=s(19510),a=s(58585),l=s(95456),i=s(13538);let n=(0,s(68570).createProxy)(String.raw`C:\Users\HP\Documents\InfTech-quiz-management-system\src\components\student\enhanced-student-dashboard.tsx#EnhancedStudentDashboard`),o="force-dynamic";async function c(){try{let e=await (0,l.MH)("STUDENT"),t=await i._.quiz.findMany({where:{isActive:!0},include:{creator:{select:{name:!0}},_count:{select:{questions:!0,attempts:!0}}},orderBy:{createdAt:"desc"}}),s=await i._.quizAttempt.findMany({where:{userId:e.id},include:{quiz:{select:{title:!0,passingScore:!0}}},orderBy:{completedAt:"desc"}});return r.jsx(n,{user:e,quizzes:t,attempts:s})}catch(e){console.error("Authentication error in student dashboard:",e),e instanceof Error&&e.message.includes("Authentication required")&&(0,a.redirect)("/student"),(0,a.redirect)("/student")}}},95456:(e,t,s)=>{"use strict";s.d(t,{Gg:()=>a,MH:()=>i});var r=s(71615);async function a(){try{let e=(0,r.cookies)().get("user-session");if(!e||!e.value||""===e.value.trim())return null;let t=JSON.parse(e.value);if(!t||!t.id||!t.email||!t.name||!t.role)return console.warn("Invalid session structure:",t),null;return t}catch(e){return console.error("Error getting session:",e),null}}async function l(){let e=await a();if(!e)throw Error("Authentication required");return e}async function i(e){let t=await l();if(t.role!==e)throw Error(`Access denied. Required role: ${e}`);return t}},13538:(e,t,s)=>{"use strict";s.d(t,{_:()=>a});var r=s(53524);let a=globalThis.prisma??new r.PrismaClient},5023:()=>{},28407:(e,t,s)=>{"use strict";s.d(t,{VY:()=>_,aV:()=>R,fC:()=>S,xz:()=>q});var r=s(17577),a=s(82561),l=s(93095),i=s(15594),n=s(9815),o=s(45226),c=s(17124),d=s(52067),u=s(88957),m=s(10326),x="Tabs",[h,g]=(0,l.b)(x,[i.Pc]),p=(0,i.Pc)(),[b,f]=h(x),j=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,onValueChange:a,defaultValue:l,orientation:i="horizontal",dir:n,activationMode:h="automatic",...g}=e,p=(0,c.gm)(n),[f,j]=(0,d.T)({prop:r,onChange:a,defaultProp:l??"",caller:x});return(0,m.jsx)(b,{scope:s,baseId:(0,u.M)(),value:f,onValueChange:j,orientation:i,dir:p,activationMode:h,children:(0,m.jsx)(o.WV.div,{dir:p,"data-orientation":i,...g,ref:t})})});j.displayName=x;var y="TabsList",v=r.forwardRef((e,t)=>{let{__scopeTabs:s,loop:r=!0,...a}=e,l=f(y,s),n=p(s);return(0,m.jsx)(i.fC,{asChild:!0,...n,orientation:l.orientation,dir:l.dir,loop:r,children:(0,m.jsx)(o.WV.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:t})})});v.displayName=y;var N="TabsTrigger",w=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,disabled:l=!1,...n}=e,c=f(N,s),d=p(s),u=k(c.baseId,r),x=Z(c.baseId,r),h=r===c.value;return(0,m.jsx)(i.ck,{asChild:!0,...d,focusable:!l,active:h,children:(0,m.jsx)(o.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:u,...n,ref:t,onMouseDown:(0,a.Mj)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(r)}),onKeyDown:(0,a.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(r)}),onFocus:(0,a.Mj)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||l||!e||c.onValueChange(r)})})})});w.displayName=N;var z="TabsContent",C=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:a,forceMount:l,children:i,...c}=e,d=f(z,s),u=k(d.baseId,a),x=Z(d.baseId,a),h=a===d.value,g=r.useRef(h);return r.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(n.z,{present:l||h,children:({present:s})=>(0,m.jsx)(o.WV.div,{"data-state":h?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:x,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:s&&i})})});function k(e,t){return`${e}-trigger-${t}`}function Z(e,t){return`${e}-content-${t}`}C.displayName=z;var S=j,R=v,q=w,_=C}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9276,1615,349,9735,3644,7432],()=>s(24635));module.exports=r})();