(()=>{var e={};e.id=558,e.ids=[558],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},24635:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),t(79183),t(32029),t(35866);var a=t(23191),r=t(88716),l=t(37922),i=t.n(l),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["student",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,79183)),"C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\student\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\student\\dashboard\\page.tsx"],x="/student/dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/student/dashboard/page",pathname:"/student/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9856:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},9030:()=>{},4207:(e,s,t)=>{Promise.resolve().then(t.bind(t,23574))},6343:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},37358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},33734:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},94019:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},23574:(e,s,t)=>{"use strict";t.d(s,{EnhancedStudentDashboard:()=>B});var a=t(10326),r=t(17577),l=t(35047),i=t(91664),n=t(29752),c=t(38443),d=t(50384),o=t(6343),x=t(71810),m=t(76464),u=t(40617),h=t(24061),g=t(17069),p=t(76557);let b=(0,p.Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var j=t(54659),f=t(37358),N=t(33734);let v=(0,p.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var y=t(91470);let w=(0,p.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var z=t(93095),k=t(45226),Z="Progress",[C,q]=(0,z.b)(Z),[S,A]=C(Z),P=r.forwardRef((e,s)=>{var t,r;let{__scopeProgress:l,value:i=null,max:n,getValueLabel:c=Y,...d}=e;(n||0===n)&&!E(n)&&console.error((t=`${n}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let o=E(n)?n:100;null===i||T(i,o)||console.error((r=`${i}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let x=T(i,o)?i:null,m=_(x)?c(x,o):void 0;return(0,a.jsx)(S,{scope:l,value:x,max:o,children:(0,a.jsx)(k.WV.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":_(x)?x:void 0,"aria-valuetext":m,role:"progressbar","data-state":D(x,o),"data-value":x??void 0,"data-max":o,...d,ref:s})})});P.displayName=Z;var R="ProgressIndicator",M=r.forwardRef((e,s)=>{let{__scopeProgress:t,...r}=e,l=A(R,t);return(0,a.jsx)(k.WV.div,{"data-state":D(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...r,ref:s})});function Y(e,s){return`${Math.round(e/s*100)}%`}function D(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function _(e){return"number"==typeof e}function E(e){return _(e)&&!isNaN(e)&&e>0}function T(e,s){return _(e)&&!isNaN(e)&&e<=s&&e>=0}M.displayName=R;var I=t(51223);let U=r.forwardRef(({className:e,value:s,...t},r)=>a.jsx(P,{ref:r,className:(0,I.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:a.jsx(M,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));U.displayName=P.displayName;let $=(0,p.Z)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);var L=t(997),O=t(53468);function Q({userId:e}){let[s,t]=(0,r.useState)(null),[l,d]=(0,r.useState)(!0),[x,m]=(0,r.useState)("earned"),p=async()=>{try{let s=await fetch(`/api/gamification/achievements?userId=${e}`);if(s.ok){let e=await s.json();t(e)}}catch(e){console.error("Error fetching achievements:",e)}finally{d(!1)}},j=e=>{switch(e){case"STUDY_STREAK":return a.jsx($,{className:"h-5 w-5"});case"PEER_HELPER":return a.jsx(h.Z,{className:"h-5 w-5"});case"QUIZ_MASTERY":return a.jsx(o.Z,{className:"h-5 w-5"});case"STUDY_GROUP_LEADER":return a.jsx(L.Z,{className:"h-5 w-5"});case"CHAT_ENGAGEMENT":return a.jsx(u.Z,{className:"h-5 w-5"});default:return a.jsx(N.Z,{className:"h-5 w-5"})}},f=e=>{switch(e){case 1:return"bg-bronze-100 text-bronze-800 border-bronze-200";case 2:return"bg-silver-100 text-silver-800 border-silver-200";case 3:return"bg-yellow-100 text-yellow-800 border-yellow-200";case 4:return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return l?a.jsx(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2",children:"Loading achievements..."})]})}):s?(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(n.Zb,{className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white",children:a.jsx(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Your Achievements"}),a.jsx("p",{className:"text-purple-100",children:"Keep learning and earning rewards!"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold",children:s.totalPoints}),a.jsx("div",{className:"text-sm text-purple-100",children:"Total Points"})]})]})})}),(0,a.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,a.jsxs)(i.z,{variant:"earned"===x?"default":"ghost",onClick:()=>m("earned"),className:"flex-1",children:[a.jsx(b,{className:"h-4 w-4 mr-2"}),"Earned (",s.achievements.length,")"]}),(0,a.jsxs)(i.z,{variant:"progress"===x?"default":"ghost",onClick:()=>m("progress"),className:"flex-1",children:[a.jsx(O.Z,{className:"h-4 w-4 mr-2"}),"In Progress (",s.nextAchievements.length,")"]})]}),"earned"===x&&a.jsx("div",{className:"space-y-4",children:0===s.achievements.length?a.jsx(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"text-center py-12",children:[a.jsx(b,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Achievements Yet"}),a.jsx("p",{className:"text-gray-600",children:"Start participating in quizzes and discussions to earn your first achievement!"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.achievements.map((e,s)=>a.jsx(n.Zb,{className:"hover:shadow-lg transition-shadow",children:a.jsx(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"text-4xl",children:e.badge}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[j(e.type),a.jsx("h3",{className:"font-semibold",children:e.name}),(0,a.jsxs)(c.C,{className:f(e.level),children:["Level ",e.level]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),a.jsx("p",{className:"text-sm font-medium text-blue-600",children:e.title}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Earned: ",new Date(e.earnedAt).toLocaleDateString()]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[a.jsx("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[e.currentValue,"/",e.requirement]})]}),a.jsx(U,{value:e.currentValue/e.requirement*100,className:"h-2"})]})]})]})})},s))})}),"progress"===x&&a.jsx("div",{className:"space-y-4",children:0===s.nextAchievements.length?a.jsx(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"text-center py-12",children:[a.jsx(N.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"All Caught Up!"}),a.jsx("p",{className:"text-gray-600",children:"You've reached the highest level in all achievement categories. Keep up the great work!"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.nextAchievements.map((e,s)=>a.jsx(n.Zb,{className:"hover:shadow-lg transition-shadow",children:a.jsx(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"text-4xl opacity-50",children:e.nextBadge}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[j(e.type),a.jsx("h3",{className:"font-semibold",children:e.name}),(0,a.jsxs)(c.C,{variant:"outline",children:["Next: Level ",e.nextLevel]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),a.jsx("p",{className:"text-sm font-medium text-purple-600",children:e.nextTitle}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[a.jsx("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[e.currentValue,"/",e.requirement]})]}),a.jsx(U,{value:e.progress,className:"h-3"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round(e.progress),"% complete"]})]}),e.progress>=80&&a.jsx("div",{className:"mt-3 p-2 bg-green-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-xs text-green-700 font-medium",children:["\uD83C\uDF89 Almost there! Just ",e.requirement-e.currentValue," more to go!"]})})]})]})})},s))})}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[a.jsx(g.Z,{className:"h-5 w-5"}),"Tips to Earn More Achievements"]})}),a.jsx(n.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx($,{className:"h-4 w-4 text-orange-500"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Study Streak:"})," Take quizzes daily"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(h.Z,{className:"h-4 w-4 text-blue-500"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Peer Helper:"})," Answer questions in chat"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(o.Z,{className:"h-4 w-4 text-green-500"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Quiz Mastery:"})," Score 80% or higher"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(L.Z,{className:"h-4 w-4 text-purple-500"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Group Leader:"})," Participate in study groups"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(u.Z,{className:"h-4 w-4 text-indigo-500"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Chat Engagement:"})," Join discussions"]})]})]})]})})]})]}):a.jsx(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"text-center py-8",children:[a.jsx(b,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Unable to load achievements"}),a.jsx(i.z,{onClick:p,className:"mt-4",children:"Retry"})]})})}var G=t(6507),H=t(94019),V=t(26784);function J({userId:e,userName:s,userRole:t}){let[l,d]=(0,r.useState)([]),[o,x]=(0,r.useState)(!1),[m,u]=(0,r.useState)(0),{socket:h,isConnected:g}=(0,V.s)(),p=e=>{d(s=>s.map(s=>s.id===e?{...s,read:!0}:s)),u(e=>Math.max(0,e-1))},b=e=>{d(s=>s.filter(s=>s.id!==e)),u(s=>{let t=l.find(s=>s.id===e);return t&&!t.read?Math.max(0,s-1):s})};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>x(!o),className:"relative p-2 hover:bg-blue-50",children:[a.jsx(G.Z,{className:"h-5 w-5 text-blue-600"}),m>0&&a.jsx(c.C,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:m>9?"9+":m})]}),o&&a.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 z-50",children:(0,a.jsxs)(n.Zb,{className:"shadow-lg border-blue-200",children:[a.jsx(n.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(n.ll,{className:"text-lg text-blue-800",children:"Notifications"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[m>0&&a.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>{d(e=>e.map(e=>({...e,read:!0}))),u(0)},className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all read"}),a.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>x(!1),className:"p-1",children:a.jsx(H.Z,{className:"h-4 w-4"})})]})]})}),a.jsx(n.aY,{className:"p-0",children:a.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===l.length?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"}):l.map(e=>a.jsx("div",{className:`p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${e.read?"":"bg-blue-50 border-l-4 border-l-blue-500"}`,onClick:()=>p(e.id),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:`text-sm ${e.read?"text-gray-700":"font-semibold text-blue-900"}`,children:e.message}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp.toLocaleString()})]}),a.jsx(i.z,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),b(e.id)},className:"p-1 ml-2",children:a.jsx(H.Z,{className:"h-3 w-3"})})]})},e.id))})})]})})]})}function B({user:e,quizzes:s,attempts:t}){let p=(0,l.useRouter)(),[z,k]=(0,r.useState)(!1),[Z,C]=(0,r.useState)([]),[q,S]=(0,r.useState)([]),[A,P]=(0,r.useState)([]),[R,M]=(0,r.useState)("dashboard"),[Y,D]=(0,r.useState)([]),[_,E]=(0,r.useState)(s),[T,I]=(0,r.useState)(0),[U,$]=(0,r.useState)(5),[L,O]=(0,r.useState)(0),[G,H]=(0,r.useState)([]),{socket:B,isConnected:F}=(0,V.s)();(0,r.useCallback)(async()=>{try{let e=await fetch("/api/quizzes?role=student");if(e.ok){let s=await e.json();E(s),D(s.slice(0,3))}}catch(e){console.error("Error fetching quizzes:",e)}},[]),(0,r.useCallback)(()=>{if(0===t.length)return 0;let e=t.filter(e=>e.completedAt).sort((e,s)=>new Date(s.completedAt).getTime()-new Date(e.completedAt).getTime()),s=0,a=new Date;for(let t of(a.setHours(0,0,0,0),e)){let e=new Date(t.completedAt);e.setHours(0,0,0,0);let r=Math.floor((a.getTime()-e.getTime())/864e5);if(r===s)s++;else if(r>s)break}return s},[t]),(0,r.useCallback)(()=>{let e=new Date;return e.setDate(e.getDate()-7),t.filter(s=>s.completedAt&&new Date(s.completedAt)>e).length},[t]),(0,r.useCallback)(async()=>{try{let e=await fetch("/api/chat/rooms");if(e.ok){let s=await e.json();C(s)}}catch(e){console.error("Error fetching chat rooms:",e)}},[]),(0,r.useCallback)(async()=>{try{let e=await fetch("/api/study-groups");if(e.ok){let s=await e.json();S(s)}}catch(e){console.error("Error fetching study groups:",e)}},[]),(0,r.useCallback)(async()=>{try{let e=await fetch("/api/study-milestones");if(e.ok){let s=await e.json();P(s)}}catch(e){console.error("Error fetching study milestones:",e)}},[]);let W=async()=>{k(!0);try{await fetch("/api/auth/logout",{method:"POST"}),p.push("/")}catch(e){console.error("Logout error:",e)}finally{k(!1)}},K=e=>{p.push(`/student/quiz/${e}`)},X=e=>{p.push(`/chat/${e}`)},ee=()=>Z.filter(e=>"QUIZ_DISCUSSION"===e.type),es=()=>Z.filter(e=>"GENERAL"===e.type),et=(e,s)=>e>=s?"text-green-600":"text-red-600",ea=(e,s)=>e>=s?"default":"destructive";return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[a.jsx("header",{className:"bg-white/80 backdrop-blur-sm shadow-lg border-b border-blue-100",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-2 rounded-lg mr-3",children:a.jsx(o.Z,{className:"h-6 w-6 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent",children:"Student Dashboard"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(J,{userId:e.id,userName:e.name,userRole:e.role}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-blue-50 px-3 py-2 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-700",children:["Welcome, ",e.name]})]}),(0,a.jsxs)(i.z,{onClick:W,variant:"outline",size:"sm",disabled:z,className:"flex items-center gap-2 border-blue-200 text-blue-700 hover:bg-blue-50 hover:border-blue-300",children:[a.jsx(x.Z,{className:"h-4 w-4"}),z?"Logging out...":"Logout"]})]})]})})}),(0,a.jsxs)("div",{className:"flex h-[calc(100vh-80px)]",children:[(0,a.jsxs)("div",{className:"w-64 bg-white/70 backdrop-blur-sm border-r border-blue-100 p-4 flex flex-col",children:[a.jsx("h3",{className:"text-lg font-semibold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent mb-4",children:"Navigation"}),(0,a.jsxs)("nav",{className:"space-y-2 flex-1",children:[(0,a.jsxs)(i.z,{onClick:()=>M("dashboard"),variant:"dashboard"===R?"default":"ghost",className:`w-full justify-start ${"dashboard"===R?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"}`,children:[a.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),(0,a.jsxs)(i.z,{onClick:()=>M("quizzes"),variant:"quizzes"===R?"default":"ghost",className:`w-full justify-start ${"quizzes"===R?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"}`,children:[a.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Quizzes"]}),(0,a.jsxs)(i.z,{onClick:()=>M("study-chat"),variant:"study-chat"===R?"default":"ghost",className:`w-full justify-start ${"study-chat"===R?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"}`,children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Study Chat"]}),(0,a.jsxs)(i.z,{onClick:()=>M("study-groups"),variant:"study-groups"===R?"default":"ghost",className:`w-full justify-start ${"study-groups"===R?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"}`,children:[a.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Study Groups"]}),(0,a.jsxs)(i.z,{onClick:()=>M("progress"),variant:"progress"===R?"default":"ghost",className:`w-full justify-start ${"progress"===R?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"}`,children:[a.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Progress"]}),(0,a.jsxs)(i.z,{onClick:()=>M("achievements"),variant:"achievements"===R?"default":"ghost",className:`w-full justify-start ${"achievements"===R?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-50 hover:text-blue-800"}`,children:[a.jsx(b,{className:"h-4 w-4 mr-2"}),"Achievements"]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)(d.mQ,{value:R,onValueChange:M,className:"space-y-6",children:[(0,a.jsxs)(d.nU,{value:"dashboard",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(n.Zb,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(n.ll,{className:"text-sm font-medium text-blue-800",children:"Available Quizzes"}),a.jsx(o.Z,{className:"h-5 w-5 text-blue-600"})]}),(0,a.jsxs)(n.aY,{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-900",children:_.length}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Ready to take"})]})]}),(0,a.jsxs)(n.Zb,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(n.ll,{className:"text-sm font-medium text-green-800",children:"Completed"}),a.jsx(j.Z,{className:"h-5 w-5 text-green-600"})]}),(0,a.jsxs)(n.aY,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-900",children:t.length}),a.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Quiz attempts"})]})]}),(0,a.jsxs)(n.Zb,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(n.ll,{className:"text-sm font-medium text-purple-800",children:"Average Score"}),a.jsx(g.Z,{className:"h-5 w-5 text-purple-600"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-purple-900",children:[t.length>0?Math.round(t.reduce((e,s)=>e+s.score,0)/t.length):0,"%"]}),a.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Performance"})]})]}),(0,a.jsxs)(n.Zb,{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200",children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(n.ll,{className:"text-sm font-medium text-orange-800",children:"Study Groups"}),a.jsx(h.Z,{className:"h-5 w-5 text-orange-600"})]}),(0,a.jsxs)(n.aY,{children:[a.jsx("div",{className:"text-3xl font-bold text-orange-900",children:q.length}),a.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Active groups"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[a.jsx(f.Z,{className:"h-5 w-5 text-blue-600"}),"Upcoming Quizzes"]})}),a.jsx(n.aY,{className:"space-y-3",children:0===Y.length?a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming quizzes"}):Y.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e._count.questions," questions"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.enableChat&&e.chatRooms&&e.chatRooms.length>0&&a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>X(e.chatRooms[0].id),children:a.jsx(u.Z,{className:"h-4 w-4"})}),a.jsx(i.z,{size:"sm",onClick:()=>K(e.id),className:"bg-blue-600 hover:bg-blue-700",children:"Start"})]})]},e.id))})]}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[a.jsx(N.Z,{className:"h-5 w-5 text-yellow-600"}),"Recent Achievements"]})}),a.jsx(n.aY,{className:"space-y-3",children:A.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${"completion"===e.type?"bg-green-100":"social"===e.type?"bg-blue-100":"bg-yellow-100"}`,children:"completion"===e.type?a.jsx(j.Z,{className:"h-4 w-4 text-green-600"}):"social"===e.type?a.jsx(h.Z,{className:"h-4 w-4 text-blue-600"}):a.jsx(N.Z,{className:"h-4 w-4 text-yellow-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:e.title}),a.jsx("p",{className:"text-sm text-gray-500",children:e.date?.toLocaleDateString()})]})]},e.id))})]})]})]}),(0,a.jsxs)(d.nU,{value:"quizzes",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Available Quizzes"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Choose a quiz to test your knowledge and join study discussions"})]}),0===_.length?a.jsx(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"text-center py-16",children:[a.jsx(o.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No quizzes available"}),a.jsx("p",{className:"text-gray-600",children:"Check back later for new quizzes from your instructors"})]})}):a.jsx("div",{className:"grid gap-6",children:_.map(e=>(0,a.jsxs)(n.Zb,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(n.Ol,{children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(n.ll,{className:"flex items-center gap-3 text-lg",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(o.Z,{className:"h-4 w-4 text-white"})}),e.title,e.enableChat&&(0,a.jsxs)(c.C,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:[a.jsx(u.Z,{className:"h-3 w-3 mr-1"}),"Chat Available"]})]}),a.jsx(n.SZ,{className:"mt-2",children:e.description||"Test your knowledge with this quiz"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Created by ",e.creator.name]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[e.enableChat&&e.chatRooms&&e.chatRooms.length>0&&(0,a.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>X(e.chatRooms[0].id),className:"border-green-200 text-green-700 hover:bg-green-50",children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Study Chat"]}),(0,a.jsxs)(i.z,{onClick:()=>K(e.id),disabled:!e.isActive,className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(v,{className:"h-4 w-4 mr-2"}),"Start Quiz"]})]})]})}),a.jsx(n.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e._count.questions}),a.jsx("div",{className:"text-sm text-blue-700",children:"Questions"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[e.passingScore,"%"]}),a.jsx("div",{className:"text-sm text-purple-700",children:"Pass Score"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.timeLimit?`${e.timeLimit}`:"∞"}),a.jsx("div",{className:"text-sm text-orange-700",children:e.timeLimit?"Minutes":"No Limit"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:e._count.attempts}),a.jsx("div",{className:"text-sm text-green-700",children:"Attempts"})]})]})})]},e.id))})]}),(0,a.jsxs)(d.nU,{value:"study-chat",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Study Chat Rooms"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Join quiz discussions and general study rooms"})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(o.Z,{className:"h-5 w-5 text-blue-600"}),"Quiz Discussion Rooms"]}),ee().length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ee().map(e=>(0,a.jsxs)(n.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-l-blue-500",onClick:()=>X(e.id),children:[(0,a.jsxs)(n.Ol,{className:"pb-3",children:[(0,a.jsxs)(n.ll,{className:"flex items-center gap-2 text-base",children:[a.jsx(u.Z,{className:"h-4 w-4 text-blue-600"}),e.name]}),a.jsx(n.SZ,{className:"text-sm",children:e.quiz?`Quiz: ${e.quiz.title}`:"Quiz Discussion"})]}),(0,a.jsxs)(n.aY,{className:"pt-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(c.C,{className:"bg-blue-100 text-blue-800",children:"Quiz Discussion"}),a.jsx(i.z,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Join Chat"})]}),e._count?.messages&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[e._count.messages," messages"]})]})]},e.id))}):a.jsx(n.Zb,{className:"border-dashed border-2 border-gray-200",children:(0,a.jsxs)(n.aY,{className:"text-center py-8",children:[a.jsx(o.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Quiz Chat Rooms"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Quiz chat rooms will appear here when instructors create quizzes with chat enabled"})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(h.Z,{className:"h-5 w-5 text-green-600"}),"General Study Rooms"]}),es().length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:es().map(e=>(0,a.jsxs)(n.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-l-green-500",onClick:()=>X(e.id),children:[(0,a.jsxs)(n.Ol,{className:"pb-3",children:[(0,a.jsxs)(n.ll,{className:"flex items-center gap-2 text-base",children:[a.jsx(u.Z,{className:"h-4 w-4 text-green-600"}),e.name]}),a.jsx(n.SZ,{className:"text-sm",children:"General study discussion"})]}),(0,a.jsxs)(n.aY,{className:"pt-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(c.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:"General Study"}),a.jsx(i.z,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Join Chat"})]}),e._count?.messages&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[e._count.messages," messages"]})]})]},e.id))}):a.jsx(n.Zb,{className:"border-dashed border-2 border-gray-200",children:(0,a.jsxs)(n.aY,{className:"text-center py-8",children:[a.jsx(h.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No General Chat Rooms"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"General study rooms will appear here when created by instructors"})]})})]}),0===ee().length&&0===es().length&&a.jsx(n.Zb,{className:"mt-8",children:(0,a.jsxs)(n.aY,{className:"text-center py-16",children:[a.jsx(u.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No chat rooms available"}),a.jsx("p",{className:"text-gray-600",children:"Chat rooms will appear here when quizzes with chat are created"})]})})]}),(0,a.jsxs)(d.nU,{value:"study-groups",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-700 to-indigo-700 bg-clip-text text-transparent",children:"My Study Groups"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Collaborate with peers in your assigned study groups and participate in discussions"})]}),a.jsx("div",{className:"grid gap-6",children:q.map(e=>(0,a.jsxs)(n.Zb,{className:"border-l-4 border-l-purple-500 hover:shadow-lg transition-all duration-300",children:[a.jsx(n.Ol,{className:"bg-gradient-to-r from-purple-50 to-indigo-50",children:a.jsx("div",{className:"flex justify-between items-start",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(n.ll,{className:"flex items-center gap-3 text-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx(h.Z,{className:"h-5 w-5 text-white"})}),e.name,a.jsx(c.C,{className:"bg-purple-100 text-purple-800",children:"Member"})]}),a.jsx(n.SZ,{className:"mt-2 text-gray-700",children:e.description||"Collaborative learning group for enhanced study experience"})]})})}),(0,a.jsxs)(n.aY,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.members.length}),a.jsx("div",{className:"text-sm text-purple-700",children:"Members"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.chatRooms&&e.chatRooms.length>0?"✓":"✗"}),a.jsx("div",{className:"text-sm text-blue-700",children:"Chat Room"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Active"}),a.jsx("div",{className:"text-sm text-green-700",children:"Status"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex -space-x-2",children:[e.members.slice(0,4).map((e,s)=>a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full flex items-center justify-center text-white text-xs font-medium border-2 border-white",title:e.user.name,children:e.user.name.charAt(0).toUpperCase()},s)),e.members.length>4&&(0,a.jsxs)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 text-xs font-medium border-2 border-white",children:["+",e.members.length-4]})]}),e.chatRooms&&e.chatRooms.length>0&&(0,a.jsxs)(c.C,{className:"bg-green-100 text-green-800",children:[a.jsx(u.Z,{className:"h-3 w-3 mr-1"}),"Discussion Active"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[e.chatRooms&&e.chatRooms.length>0&&(0,a.jsxs)(i.z,{size:"sm",onClick:()=>X(e.chatRooms[0].id),className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Join Discussion"]}),(0,a.jsxs)(i.z,{variant:"outline",size:"sm",className:"border-purple-200 text-purple-700 hover:bg-purple-50",children:[a.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"View Members"]})]})]})]})]},e.id))}),0===q.length&&a.jsx(n.Zb,{className:"border-2 border-dashed border-gray-200",children:(0,a.jsxs)(n.aY,{className:"text-center py-16",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(h.Z,{className:"h-10 w-10 text-purple-500"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Study Groups Assigned"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't been added to any study groups yet. Study groups will appear here when your instructor assigns you to one."}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Tip:"})," Study groups help you collaborate with classmates, share knowledge, and participate in group discussions about quiz topics."]})})]})})]}),(0,a.jsxs)(d.nU,{value:"progress",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Progress"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track your learning journey and achievements"})]}),t.length>0&&(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Quiz History"})}),a.jsx(n.aY,{children:a.jsx("div",{className:"space-y-4",children:t.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex-shrink-0",children:e.passed?a.jsx(j.Z,{className:"h-8 w-8 text-green-600"}):a.jsx(y.Z,{className:"h-8 w-8 text-red-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:e.quiz.title}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date(e.completedAt||e.startedAt).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:`text-xl font-bold ${et(e.score,e.quiz.passingScore)}`,children:[e.score,"%"]}),a.jsx(c.C,{variant:ea(e.score,e.quiz.passingScore),children:e.passed?"Passed":"Failed"})]}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>p.push(`/student/quiz/${e.quizId}/results`),children:"View Details"})]})]},e.id))})})]}),0===t.length&&a.jsx(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"text-center py-16",children:[a.jsx(w,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No quiz attempts yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Start taking quizzes to track your progress"}),(0,a.jsxs)(i.z,{onClick:()=>M("quizzes"),className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(v,{className:"h-4 w-4 mr-2"}),"Take Your First Quiz"]})]})})]}),(0,a.jsxs)(d.nU,{value:"achievements",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"Your Achievements"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track your progress and unlock new badges through active participation"})]}),a.jsx(Q,{userId:e.id})]})]})})})]})]})}},38443:(e,s,t)=>{"use strict";t.d(s,{C:()=>n});var a=t(10326);t(17577);var r=t(79360),l=t(51223);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,...t}){return a.jsx("div",{className:(0,l.cn)(i({variant:s}),e),...t})}},91664:(e,s,t)=>{"use strict";t.d(s,{z:()=>d});var a=t(10326),r=t(17577),l=t(34214),i=t(79360),n=t(51223);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:s,size:t,asChild:r=!1,...i},d)=>{let o=r?l.g7:"button";return a.jsx(o,{className:(0,n.cn)(c({variant:s,size:t,className:e})),ref:d,...i})});d.displayName="Button"},29752:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>n,SZ:()=>d,Zb:()=>i,aY:()=>o,ll:()=>c});var a=t(10326),r=t(17577),l=t(51223);let i=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let n=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},50384:(e,s,t)=>{"use strict";t.d(s,{SP:()=>d,dr:()=>c,mQ:()=>n,nU:()=>o});var a=t(10326),r=t(17577),l=t(28407),i=t(51223);let n=l.fC,c=r.forwardRef(({className:e,...s},t)=>a.jsx(l.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));c.displayName=l.aV.displayName;let d=r.forwardRef(({className:e,...s},t)=>a.jsx(l.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));d.displayName=l.xz.displayName;let o=r.forwardRef(({className:e,...s},t)=>a.jsx(l.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));o.displayName=l.VY.displayName},26784:(e,s,t)=>{"use strict";t.d(s,{s:()=>i});var a=t(17577),r=t(80057);let l=null;function i(e){let[s,t]=(0,a.useState)(null),[i,n]=(0,a.useState)(!1),[c,d]=(0,a.useState)([]),o=(0,a.useRef)(),x=(0,a.useRef)(0),m=(0,a.useCallback)(()=>{if(l&&l.connected){t(l),n(!0);return}if(l&&!l.connected&&!1===l.disconnected){t(l);return}l||(console.log("Creating new WebSocket connection"),(l=(0,r.io)(process.env.NEXT_PUBLIC_SOCKET_URL||window.location.origin,{path:"/api/socketio",transports:["websocket","polling"],upgrade:!0,rememberUpgrade:!0,timeout:2e4,forceNew:!1,reconnection:!1})).on("connect",()=>{console.log("Connected to server"),x.current=0,n(!0),o.current&&clearTimeout(o.current)}),l.on("disconnect",e=>{if(console.log("Disconnected from server:",e),n(!1),("io server disconnect"===e||"transport close"===e)&&x.current<5){let e=1e3*Math.pow(2,x.current);o.current=setTimeout(()=>{console.log(`Attempting to reconnect... (${x.current+1}/5)`),x.current++,l&&l.connect()},e)}else x.current>=5&&console.log("Max reconnection attempts reached. Stopping reconnection.")}),l.on("connect_error",e=>{console.error("Connection error:",e),n(!1)})),t(l)},[]),u=(0,a.useCallback)((e,t)=>{s&&s.on(e,t)},[s]),h=(0,a.useCallback)((e,t)=>{s&&(t?s.off(e,t):s.off(e))},[s]),g=(0,a.useCallback)((t,a)=>{s&&i&&s.emit("join-study-session",{sessionId:t,userId:a||e?.userId})},[s,i,e?.userId]),p=(0,a.useCallback)((t,a)=>{s&&i&&s.emit("leave-study-session",{sessionId:t,userId:a||e?.userId})},[s,i,e?.userId]),b=(0,a.useCallback)((t,a,r,l)=>{s&&i&&s.emit("study-session-update",{sessionId:t,updateType:a,content:r,userId:l||e?.userId})},[s,i,e?.userId]);return{socket:s,isConnected:i,connect:m,on:u,off:h,joinStudySession:g,leaveStudySession:p,sendStudySessionUpdate:b,recentAnnouncements:c}}},51223:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var a=t(41135),r=t(31009);function l(...e){return(0,r.m6)((0,a.W)(e))}},32029:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,metadata:()=>i});var a=t(19510),r=t(25384),l=t.n(r);t(5023);let i={title:"Quiz Management System",description:"A comprehensive quiz management system for admins and students"};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:`${l().className} bg-professional-gradient`,children:a.jsx("div",{className:"min-h-screen",children:e})})})}},79183:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d,dynamic:()=>c});var a=t(19510),r=t(58585),l=t(95456),i=t(13538);let n=(0,t(68570).createProxy)(String.raw`C:\Users\HP\Documents\InfTech-quiz-management-system\src\components\student\enhanced-student-dashboard.tsx#EnhancedStudentDashboard`),c="force-dynamic";async function d(){try{let e=await (0,l.MH)("STUDENT"),s=await i._.quiz.findMany({where:{isActive:!0},include:{creator:{select:{name:!0}},_count:{select:{questions:!0,attempts:!0}}},orderBy:{createdAt:"desc"}}),t=await i._.quizAttempt.findMany({where:{userId:e.id},include:{quiz:{select:{title:!0,passingScore:!0}}},orderBy:{completedAt:"desc"}});return a.jsx(n,{user:e,quizzes:s,attempts:t})}catch(e){console.error("Authentication error in student dashboard:",e),e instanceof Error&&e.message.includes("Authentication required")&&(0,r.redirect)("/student"),(0,r.redirect)("/student")}}},95456:(e,s,t)=>{"use strict";t.d(s,{Gg:()=>r,MH:()=>i});var a=t(71615);async function r(){try{let e=(0,a.cookies)().get("user-session");if(!e||!e.value||""===e.value.trim())return null;let s=JSON.parse(e.value);if(!s||!s.id||!s.email||!s.name||!s.role)return console.warn("Invalid session structure:",s),null;return s}catch(e){return console.error("Error getting session:",e),null}}async function l(){let e=await r();if(!e)throw Error("Authentication required");return e}async function i(e){let s=await l();if(s.role!==e)throw Error(`Access denied. Required role: ${e}`);return s}},13538:(e,s,t)=>{"use strict";t.d(s,{_:()=>r});var a=t(53524);let r=globalThis.prisma??new a.PrismaClient},5023:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,1615,349,9735,3644,7432,7773],()=>t(24635));module.exports=a})();