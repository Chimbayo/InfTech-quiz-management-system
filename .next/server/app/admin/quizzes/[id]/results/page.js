(()=>{var e={};e.id=1183,e.ids=[1183],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},68551:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>f,tree:()=>c}),r(748),r(32029),r(35866);var s=r(23191),n=r(88716),a=r(37922),i=r.n(a),l=r(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let c=["",{children:["admin",{children:["quizzes",{children:["[id]",{children:["results",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,748)),"C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\admin\\quizzes\\[id]\\results\\page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\admin\\quizzes\\[id]\\results\\page.tsx"],u="/admin/quizzes/[id]/results/page",m={require:r,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/quizzes/[id]/results/page",pathname:"/admin/quizzes/[id]/results",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9856:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},9030:()=>{},82091:(e,t,r)=>{Promise.resolve().then(r.bind(r,8426))},86333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},76464:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},54659:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48998:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},71810:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},17069:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},24061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},91470:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},35047:(e,t,r)=>{"use strict";var s=r(77389);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},8426:(e,t,r)=>{"use strict";r.d(t,{QuizResultsPage:()=>g});var s=r(10326),n=r(17577),a=r(35047),i=r(91664),l=r(29752),d=r(38443),c=r(86333),o=r(71810),u=r(24061),m=r(54659),f=r(91470),p=r(17069),x=r(76464),h=r(48998);function g({user:e,results:t}){let r=(0,a.useRouter)(),[g,y]=(0,n.useState)(!1),v=async()=>{y(!0);try{await fetch("/api/auth/logout",{method:"POST"}),r.push("/")}catch(e){console.error("Logout error:",e)}finally{y(!1)}},j=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,b=(e,t)=>e>=t?"text-green-600":"text-red-600",N=(e,t)=>e>=t?"default":"destructive";return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)(i.z,{variant:"ghost",onClick:()=>r.back(),className:"mr-4",children:[s.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quiz Results"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["Welcome, ",e.name]}),(0,s.jsxs)(i.z,{variant:"outline",size:"sm",onClick:v,disabled:g,children:[s.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)(l.Zb,{className:"mb-8",children:[(0,s.jsxs)(l.Ol,{children:[s.jsx(l.ll,{className:"text-2xl",children:t.quiz.title}),s.jsx(l.SZ,{children:t.quiz.description})]}),s.jsx(l.aY,{children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Passing Score:"}),(0,s.jsxs)("span",{className:"ml-2 font-medium",children:[t.quiz.passingScore,"%"]})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Created:"}),s.jsx("span",{className:"ml-2 font-medium",children:new Date(t.quiz.createdAt).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Total Attempts:"}),s.jsx("span",{className:"ml-2 font-medium",children:t.statistics.totalAttempts})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Average Score:"}),(0,s.jsxs)("span",{className:"ml-2 font-medium",children:[Math.round(t.statistics.averageScore),"%"]})]})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(l.ll,{className:"text-sm font-medium",children:"Total Attempts"}),s.jsx(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l.aY,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.statistics.totalAttempts})})]}),(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(l.ll,{className:"text-sm font-medium",children:"Passed"}),s.jsx(m.Z,{className:"h-4 w-4 text-green-600"})]}),s.jsx(l.aY,{children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.statistics.passedAttempts})})]}),(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(l.ll,{className:"text-sm font-medium",children:"Failed"}),s.jsx(f.Z,{className:"h-4 w-4 text-red-600"})]}),s.jsx(l.aY,{children:s.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.statistics.failedAttempts})})]}),(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(l.ll,{className:"text-sm font-medium",children:"Pass Rate"}),s.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[Math.round(t.statistics.passRate),"%"]})})]})]}),(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{children:[s.jsx(l.ll,{children:"Student Attempts"}),s.jsx(l.SZ,{children:"Detailed view of all quiz attempts"})]}),s.jsx(l.aY,{children:0===t.attempts.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx(x.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No attempts yet"}),s.jsx("p",{className:"text-gray-600",children:"Students haven't attempted this quiz yet"})]}):s.jsx("div",{className:"space-y-4",children:t.attempts.map(e=>s.jsx(l.Zb,{className:"border-l-4 border-l-blue-500",children:s.jsx(l.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:e.user.name}),s.jsx("span",{className:"text-sm text-gray-600",children:e.user.email})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(h.Z,{className:"h-4 w-4 mr-1"}),e.completedAt?new Date(e.completedAt).toLocaleDateString():"Incomplete"]}),e.timeSpent&&s.jsx("div",{className:"flex items-center",children:(0,s.jsxs)("span",{children:["Time: ",j(e.timeSpent)]})})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:`text-2xl font-bold ${b(e.score,t.quiz.passingScore)}`,children:[e.score,"%"]}),s.jsx(d.C,{variant:N(e.score,t.quiz.passingScore),children:e.passed?"Passed":"Failed"})]})]})})},e.id))})})]})]})]})}},38443:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var s=r(10326);r(17577);var n=r(79360),a=r(51223);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...r}){return s.jsx("div",{className:(0,a.cn)(i({variant:t}),e),...r})}},91664:(e,t,r)=>{"use strict";r.d(t,{z:()=>c});var s=r(10326),n=r(17577),a=r(34214),i=r(79360),l=r(51223);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},c)=>{let o=n?a.g7:"button";return s.jsx(o,{className:(0,l.cn)(d({variant:t,size:r,className:e})),ref:c,...i})});c.displayName="Button"},29752:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>l,SZ:()=>c,Zb:()=>i,aY:()=>o,ll:()=>d});var s=r(10326),n=r(17577),a=r(51223);let i=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let d=n.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let c=n.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let o=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},51223:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(41135),n=r(31009);function a(...e){return(0,n.m6)((0,s.W)(e))}},58585:(e,t,r)=>{"use strict";var s=r(61085);r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return s.RedirectType},notFound:function(){return n.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=r(83953),n=r(16399);class a extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new a}delete(){throw new a}set(){throw new a}sort(){throw new a}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return n},notFound:function(){return s}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return d},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return f},getURLFromRedirectError:function(){return m},isRedirectError:function(){return u},permanentRedirect:function(){return o},redirect:function(){return c}});let n=r(54580),a=r(72934),i=r(8586),l="NEXT_REDIRECT";function d(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let s=Error(l);s.digest=l+";"+t+";"+e+";"+r+";";let a=n.requestAsyncStorage.getStore();return a&&(s.mutableCookies=a.mutableCookies),s}function c(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw d(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function o(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw d(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,s,n]=e.digest.split(";",4),a=Number(n);return t===l&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(a)&&a in i.RedirectStatusCode}function m(e){return u(e)?e.digest.split(";",3)[2]:null}function f(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function p(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},748:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,dynamic:()=>d});var s=r(19510),n=r(58585),a=r(95456),i=r(13538);let l=(0,r(68570).createProxy)(String.raw`C:\Users\HP\Documents\InfTech-quiz-management-system\src\components\admin\quiz-results-page.tsx#QuizResultsPage`),d="force-dynamic";async function c({params:e}){try{let t=await (0,a.MH)("ADMIN"),r=await i._.quiz.findUnique({where:{id:e.id,creatorId:t.id}});r||(0,n.redirect)("/admin/dashboard");let d=await i._.quizAttempt.findMany({where:{quizId:e.id},include:{user:{select:{id:!0,name:!0,email:!0}},answers:{include:{question:{include:{options:!0}}}}},orderBy:{completedAt:"desc"}}),c=d.length,o=d.filter(e=>e.passed).length,u=c>0?d.reduce((e,t)=>e+t.score,0)/c:0,m={quiz:{id:r.id,title:r.title,description:r.description,passingScore:r.passingScore,createdAt:r.createdAt},statistics:{totalAttempts:c,passedAttempts:o,failedAttempts:c-o,passRate:c>0?o/c*100:0,averageScore:u},attempts:d};return s.jsx(l,{user:t,results:m})}catch(e){(0,n.redirect)("/admin")}}},32029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>i});var s=r(19510),n=r(25384),a=r.n(n);r(5023);let i={title:"Quiz Management System",description:"A comprehensive quiz management system for admins and students"};function l({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:`${a().className} bg-professional-gradient`,children:s.jsx("div",{className:"min-h-screen",children:e})})})}},95456:(e,t,r)=>{"use strict";r.d(t,{Gg:()=>n,MH:()=>i});var s=r(71615);async function n(){try{let e=(0,s.cookies)().get("user-session");if(!e||!e.value||""===e.value.trim())return null;let t=JSON.parse(e.value);if(!t||!t.id||!t.email||!t.name||!t.role)return console.warn("Invalid session structure:",t),null;return t}catch(e){return console.error("Error getting session:",e),null}}async function a(){let e=await n();if(!e)throw Error("Authentication required");return e}async function i(e){let t=await a();if(t.role!==e)throw Error(`Access denied. Required role: ${e}`);return t}},13538:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var s=r(53524);let n=globalThis.prisma??new s.PrismaClient},5023:()=>{}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,1615,349,9735],()=>r(68551));module.exports=s})();