(()=>{var e={};e.id=6525,e.ids=[6525],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11443:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>o}),t(41048),t(32029),t(35866);var i=t(23191),a=t(88716),r=t(37922),n=t.n(r),l=t(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let o=["",{children:["admin",{children:["quizzes",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,41048)),"C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\admin\\quizzes\\create\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\admin\\quizzes\\create\\page.tsx"],m="/admin/quizzes/create/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/quizzes/create/page",pathname:"/admin/quizzes/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},88985:(e,s,t)=>{Promise.resolve().then(t.bind(t,22913))},6343:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(76557).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},40617:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(76557).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},22913:(e,s,t)=>{"use strict";t.d(s,{CreateQuizForm:()=>q});var i=t(10326),a=t(17577),r=t(35047),n=t(74723),l=t(74064),c=t(770),o=t(91664),d=t(41190),m=t(44794),x=t(29752),p=t(9280),u=t(33261),h=t(86333),j=t(83855),g=t(6343),N=t(40617),y=t(98091),f=t(75290),v=t(31215);let b=c.Ry({text:c.Z_().min(1,"Option text is required"),isCorrect:c.O7()}),z=c.Ry({text:c.Z_().min(1,"Question text is required"),type:c.Km(["MULTIPLE_CHOICE","TRUE_FALSE"]),options:c.IX(b).min(2,"At least 2 options are required")}).refine(e=>1===e.options.filter(e=>e.isCorrect).length,{message:"Exactly one option must be marked as correct",path:["options"]}),C=c.Ry({title:c.Z_().min(1,"Quiz title is required"),description:c.Z_().optional(),passingScore:c.Rx().min(0).max(100),timeLimit:c.Rx().min(1).optional(),isActive:c.O7().optional(),questions:c.IX(z).min(1,"At least 1 question is required"),enableChat:c.O7().optional(),chatRoomName:c.Z_().optional(),allowChatDuringQuiz:c.O7().optional(),enableStudyGroup:c.O7().optional()});function q({userId:e}){let[s,t]=(0,a.useState)(!1),[c,b]=(0,a.useState)(""),z=(0,r.useRouter)(),{register:q,control:w,handleSubmit:_,watch:S,setValue:Z,formState:{errors:I}}=(0,n.cI)({resolver:(0,l.F)(C),defaultValues:{title:"",description:"",passingScore:60,timeLimit:void 0,isActive:!0,enableChat:!1,chatRoomName:"",allowChatDuringQuiz:!1,enableStudyGroup:!1,questions:[{text:"",type:"MULTIPLE_CHOICE",options:[{text:"",isCorrect:!0},{text:"",isCorrect:!1}]}]}}),{fields:E,append:P,remove:A}=(0,n.Dq)({control:w,name:"questions"}),k=S("questions"),O=S("enableChat"),Q=e=>{let s=k[e]?.options||[];Z(`questions.${e}.options`,[...s,{text:"",isCorrect:!1}])},F=(e,s)=>{let t=k[e]?.options||[];t.length>2&&Z(`questions.${e}.options`,t.filter((e,t)=>t!==s))},T=async s=>{t(!0),b("");try{let t=await fetch("/api/quizzes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,creatorId:e})}),i=await t.json();if(!t.ok)throw Error(i.error||"Failed to create quiz");z.push("/admin/dashboard")}catch(e){b(e instanceof Error?e.message:"An error occurred")}finally{t(!1)}};return(0,i.jsxs)("div",{className:"min-h-screen",children:[i.jsx("header",{className:"header-professional sticky top-0 z-50",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"flex justify-between items-center h-16",children:(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsxs)(o.z,{variant:"ghost",onClick:()=>z.back(),className:"mr-4 hover:bg-gray-100",children:[i.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-600 to-green-700 rounded-lg flex items-center justify-center",children:i.jsx(j.Z,{className:"h-5 w-5 text-white"})}),(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Create New Quiz"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Design your assessment"})]})]})]})})})}),i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,i.jsxs)("form",{onSubmit:_(T),className:"space-y-8",children:[c&&i.jsx(u.bZ,{variant:"destructive",children:i.jsx(u.X,{children:c})}),(0,i.jsxs)(x.Zb,{className:"card-professional",children:[(0,i.jsxs)(x.Ol,{children:[(0,i.jsxs)(x.ll,{className:"flex items-center gap-3 text-xl",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:i.jsx(g.Z,{className:"h-4 w-4 text-white"})}),"Quiz Information"]}),i.jsx(x.SZ,{className:"text-gray-600",children:"Provide basic information about your quiz"})]}),(0,i.jsxs)(x.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(m._,{htmlFor:"title",children:"Quiz Title *"}),i.jsx(d.I,{id:"title",placeholder:"Enter quiz title",...q("title"),className:"input-professional"}),I.title&&i.jsx("p",{className:"text-sm text-destructive",children:I.title.message})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(m._,{htmlFor:"description",children:"Description"}),i.jsx(d.I,{id:"description",placeholder:"Enter quiz description (optional)",...q("description"),className:"input-professional"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(m._,{htmlFor:"passingScore",children:"Passing Score (%) *"}),i.jsx(d.I,{id:"passingScore",type:"number",min:"0",max:"100",...q("passingScore",{valueAsNumber:!0}),className:"input-professional"}),I.passingScore&&i.jsx("p",{className:"text-sm text-destructive",children:I.passingScore.message})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(m._,{htmlFor:"timeLimit",children:"Time Limit (minutes)"}),i.jsx(d.I,{id:"timeLimit",type:"number",min:"1",placeholder:"No time limit",...q("timeLimit",{valueAsNumber:!0}),className:"input-professional"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(m._,{htmlFor:"isActive",children:"Quiz Status"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(n.Qr,{name:"isActive",control:w,render:({field:e})=>i.jsx(p.X,{id:"isActive",checked:e.value,onCheckedChange:e.onChange})}),i.jsx(m._,{htmlFor:"isActive",className:"cursor-pointer",children:"Active (visible to students)"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Check this box to make the quiz immediately available to students"})]})]})]})]}),(0,i.jsxs)(x.Zb,{className:"card-professional",children:[(0,i.jsxs)(x.Ol,{children:[(0,i.jsxs)(x.ll,{className:"flex items-center gap-3 text-xl",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:i.jsx(N.Z,{className:"h-4 w-4 text-white"})}),"Chat & Discussion Settings"]}),i.jsx(x.SZ,{className:"text-gray-600",children:"Configure chat rooms and discussion options for this quiz"})]}),i.jsx(x.aY,{className:"space-y-4",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(p.X,{id:"enableChat",...q("enableChat")}),i.jsx(m._,{htmlFor:"enableChat",className:"text-sm font-medium",children:"Enable chat room for this quiz"})]}),O&&(0,i.jsxs)("div",{className:"ml-6 space-y-4 border-l-2 border-gray-200 pl-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(m._,{htmlFor:"chatRoomName",children:"Chat Room Name"}),i.jsx(d.I,{id:"chatRoomName",placeholder:"Enter custom chat room name (optional)",...q("chatRoomName"),className:"input-professional"}),i.jsx("p",{className:"text-xs text-gray-500",children:"If left empty, will use quiz title as room name"})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(p.X,{id:"allowChatDuringQuiz",...q("allowChatDuringQuiz")}),i.jsx(m._,{htmlFor:"allowChatDuringQuiz",className:"text-sm",children:"Allow chat during quiz attempts"})]}),i.jsx("p",{className:"text-xs text-gray-500 ml-6",children:"⚠️ Warning: Enabling chat during quiz may compromise academic integrity"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(p.X,{id:"enableStudyGroup",...q("enableStudyGroup")}),i.jsx(m._,{htmlFor:"enableStudyGroup",className:"text-sm",children:"Create study group for collaborative learning"})]}),i.jsx("p",{className:"text-xs text-gray-500 ml-6",children:"Students can form study groups and discuss quiz topics"})]})]})]})})]}),(0,i.jsxs)(x.Zb,{className:"card-professional",children:[i.jsx(x.Ol,{children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)(x.ll,{className:"flex items-center gap-3 text-xl",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(g.Z,{className:"h-4 w-4 text-white"})}),"Questions"]}),i.jsx(x.SZ,{className:"text-gray-600",children:"Add questions to your quiz"})]}),(0,i.jsxs)(o.z,{type:"button",onClick:()=>{P({text:"",type:"MULTIPLE_CHOICE",options:[{text:"",isCorrect:!0},{text:"",isCorrect:!1}]})},className:"btn-primary-professional",children:[i.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Add Question"]})]})}),(0,i.jsxs)(x.aY,{className:"space-y-6",children:[E.map((e,s)=>(0,i.jsxs)(x.Zb,{className:"card-professional border-l-4 border-l-blue-500",children:[i.jsx(x.Ol,{children:(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)(m._,{children:["Question ",s+1," *"]}),i.jsx(d.I,{placeholder:"Enter your question",...q(`questions.${s}.text`),className:"mt-1 input-professional"}),I.questions?.[s]?.text&&i.jsx("p",{className:"text-sm text-destructive mt-1",children:I.questions[s]?.text?.message})]}),E.length>1&&i.jsx(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>A(s),className:"ml-4",children:i.jsx(y.Z,{className:"h-4 w-4"})})]})}),(0,i.jsxs)(x.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(m._,{children:"Question Type"}),(0,i.jsxs)("div",{className:"flex space-x-4",children:[(0,i.jsxs)("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",value:"MULTIPLE_CHOICE",...q(`questions.${s}.type`)}),i.jsx("span",{children:"Multiple Choice"})]}),(0,i.jsxs)("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",value:"TRUE_FALSE",...q(`questions.${s}.type`)}),i.jsx("span",{children:"True/False"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[i.jsx(m._,{children:"Options"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:'Select the "Correct Answer" radio button for the right answer'})]}),(0,i.jsxs)(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>Q(s),children:[i.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Add Option"]})]}),k[s]?.options?.map((e,t)=>i.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",id:`correct-${s}-${t}`,name:`correct-${s}`,value:t,checked:k[s]?.options?.[t]?.isCorrect||!1,onChange:e=>{(k[s]?.options||[]).forEach((e,i)=>{Z(`questions.${s}.options.${i}.isCorrect`,i===t)})},className:"h-4 w-4 text-green-600 focus:ring-green-500"}),i.jsx(m._,{htmlFor:`correct-${s}-${t}`,className:"text-sm font-medium text-green-600",children:"Correct Answer"})]}),i.jsx(d.I,{placeholder:`Option ${t+1}`,...q(`questions.${s}.options.${t}.text`),className:"flex-1 input-professional"}),k[s]?.options?.length>2&&i.jsx(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>F(s,t),children:i.jsx(y.Z,{className:"h-4 w-4"})})]},t))]})]})]},e.id)),I.questions&&i.jsx("p",{className:"text-sm text-destructive",children:I.questions.message})]})]}),(0,i.jsxs)("div",{className:"flex justify-end space-x-4 pt-6",children:[i.jsx(o.z,{type:"button",variant:"outline",onClick:()=>z.back(),className:"btn-secondary-professional",children:"Cancel"}),(0,i.jsxs)(o.z,{type:"submit",disabled:s,className:"btn-primary-professional",children:[s&&i.jsx(f.Z,{className:"mr-2 h-4 w-4 animate-spin"}),i.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Create Quiz"]})]})]})})]})}},41048:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,dynamic:()=>l});var i=t(19510),a=t(58585),r=t(95456);let n=(0,t(68570).createProxy)(String.raw`C:\Users\HP\Documents\InfTech-quiz-management-system\src\components\admin\create-quiz-form.tsx#CreateQuizForm`),l="force-dynamic";async function c(){try{let e=await (0,r.MH)("ADMIN");return i.jsx(n,{userId:e.id})}catch(e){(0,a.redirect)("/admin")}}}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),i=s.X(0,[9276,1615,349,9735,2851,8875,2341],()=>t(11443));module.exports=i})();