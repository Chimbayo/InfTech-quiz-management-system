(()=>{var e={};e.id=9674,e.ids=[9674],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},92358:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>x,routeModule:()=>h,tree:()=>d}),t(49479),t(32029),t(35866);var a=t(23191),r=t(88716),l=t(37922),i=t.n(l),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,49479)),"C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\admin\\users\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\HP\\Documents\\InfTech-quiz-management-system\\src\\app\\admin\\users\\page.tsx"],m="/admin/users/page",o={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27301:(e,s,t)=>{Promise.resolve().then(t.bind(t,49802))},59819:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},49802:(e,s,t)=>{"use strict";t.d(s,{UsersManagement:()=>p});var a=t(10326),r=t(17577),l=t(29752),i=t(38443),n=t(91664),c=t(59819),d=t(24061),x=t(87888);let m=(0,t(76557).Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var o=t(17069),h=t(37358),u=t(6343),g=t(997),j=t(48998);function p({user:e}){let[s,t]=(0,r.useState)([]),[p,N]=(0,r.useState)(!0),[y,f]=(0,r.useState)(""),v=async()=>{try{N(!0);let e=await fetch("/api/users");if(!e.ok)throw Error("Failed to fetch users");let s=await e.json();t(s)}catch(e){f(e instanceof Error?e.message:"An error occurred")}finally{N(!1)}},b=e=>{switch(e){case"ADMIN":return"default";case"STUDENT":return"secondary";default:return"outline"}},w=e=>{switch(e){case"ADMIN":return a.jsx(c.Z,{className:"h-4 w-4"});case"STUDENT":return a.jsx(d.Z,{className:"h-4 w-4"});default:return a.jsx(x.Z,{className:"h-4 w-4"})}},A=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Z=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(p)return a.jsx("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})});if(y)return(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(x.Z,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Users"}),a.jsx("p",{className:"text-gray-600 mb-4",children:y}),a.jsx(n.z,{onClick:v,variant:"outline",children:"Try Again"})]});let P=s.length,U=s.filter(e=>"ADMIN"===e.role).length,S=s.filter(e=>"STUDENT"===e.role).length,k=s.filter(e=>e.statistics.totalAttempts>0).length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(l.Zb,{className:"card-professional",children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(l.ll,{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(d.Z,{className:"h-5 w-5 text-blue-600"})})]}),(0,a.jsxs)(l.aY,{children:[a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:P}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Registered users"})]})]}),(0,a.jsxs)(l.Zb,{className:"card-professional",children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(l.ll,{className:"text-sm font-medium text-gray-600",children:"Admins"}),a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(c.Z,{className:"h-5 w-5 text-green-600"})})]}),(0,a.jsxs)(l.aY,{children:[a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:U}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Administrators"})]})]}),(0,a.jsxs)(l.Zb,{className:"card-professional",children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(l.ll,{className:"text-sm font-medium text-gray-600",children:"Students"}),a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(m,{className:"h-5 w-5 text-purple-600"})})]}),(0,a.jsxs)(l.aY,{children:[a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:S}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Student accounts"})]})]}),(0,a.jsxs)(l.Zb,{className:"card-professional",children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(l.ll,{className:"text-sm font-medium text-gray-600",children:"Active Users"}),a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:a.jsx(o.Z,{className:"h-5 w-5 text-orange-600"})})]}),(0,a.jsxs)(l.aY,{children:[a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:k}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Users with quiz attempts"})]})]})]}),(0,a.jsxs)(l.Zb,{className:"card-professional",children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(d.Z,{className:"h-5 w-5"}),"All Registered Users"]}),a.jsx(l.SZ,{children:"View and manage all users in the system"})]}),a.jsx(l.aY,{children:0===s.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(d.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Users Found"}),a.jsx("p",{className:"text-gray-600",children:"No users have been registered yet."})]}):a.jsx("div",{className:"space-y-4",children:s.map(e=>a.jsx(l.Zb,{className:"border border-gray-200",children:(0,a.jsxs)(l.aY,{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:w(e.role)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),(0,a.jsxs)(i.C,{variant:b(e.role),className:"flex items-center gap-1",children:[w(e.role),e.role]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.email}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(h.Z,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:"Joined:"}),a.jsx("span",{className:"font-medium",children:A(e.createdAt)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(u.Z,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:"Attempts:"}),a.jsx("span",{className:"font-medium",children:e.statistics.totalAttempts})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(g.Z,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:"Avg Score:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.statistics.averageScore,"%"]})]}),e.statistics.lastActivity&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(j.Z,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:"Last Active:"}),a.jsx("span",{className:"font-medium",children:Z(e.statistics.lastActivity)})]})]})]})]})}),"STUDENT"===e.role&&e.statistics.totalAttempts>0&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-lg font-bold text-green-600",children:e.statistics.passedAttempts}),a.jsx("div",{className:"text-xs text-gray-600",children:"Passed"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[a.jsx("div",{className:"text-lg font-bold text-red-600",children:e.statistics.failedAttempts}),a.jsx("div",{className:"text-xs text-gray-600",children:"Failed"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[Math.round(e.statistics.passRate),"%"]}),a.jsx("div",{className:"text-xs text-gray-600",children:"Pass Rate"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("div",{className:"text-lg font-bold text-purple-600",children:e._count.createdQuizzes}),a.jsx("div",{className:"text-xs text-gray-600",children:"Quizzes Created"})]})]})})]})},e.id))})})]})]})}},49479:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,dynamic:()=>n});var a=t(19510),r=t(58585),l=t(95456);let i=(0,t(68570).createProxy)(String.raw`C:\Users\HP\Documents\InfTech-quiz-management-system\src\components\admin\users-management.tsx#UsersManagement`),n="force-dynamic";async function c(){try{let e=await (0,l.MH)("ADMIN");return a.jsx(i,{user:e})}catch(e){console.error("Authentication error in users page:",e),e instanceof Error&&e.message.includes("Authentication required")&&(0,r.redirect)("/admin"),(0,r.redirect)("/admin")}}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,1615,349,9735,7825],()=>t(92358));module.exports=a})();